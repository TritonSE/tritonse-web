{"map":"{\"version\":3,\"sources\":[\"8673774c-f1700bbdee0aa6b0bc1c.js\"],\"names\":[\"window\",\"push\",\"NSPt\",\"module\",\"exports\",\"__webpack_require__\",\"process\",\"Object\",\"defineProperty\",\"value\",\"ex\",\"id\",\"firebase\",\"tslib\",\"util\",\"logger$1\",\"component\",\"DOMStorageWrapper\",\"domStorage_\",\"this\",\"prefix_\",\"prototype\",\"set\",\"key\",\"removeItem\",\"prefixedName_\",\"setItem\",\"stringify\",\"get\",\"storedVal\",\"getItem\",\"jsonEval\",\"remove\",\"name\",\"toString\",\"MemoryStorage\",\"cache_\",\"isInMemoryStorage\",\"contains\",\"createStoragefor\",\"domStorageName\",\"domStorage\",\"e\",\"PersistentStorage\",\"SessionStorage\",\"logClient\",\"Logger\",\"LUIDGenerator\",\"sha1\",\"str\",\"utf8Bytes\",\"stringToByteArray\",\"Sha1\",\"update\",\"sha1Bytes\",\"digest\",\"base64\",\"encodeByteArray\",\"buildLogMessage_\",\"varArgs\",\"_i\",\"arguments\",\"length\",\"message\",\"i\",\"arg\",\"Array\",\"isArray\",\"apply\",\"logger\",\"firstLog_\",\"enableLogging\",\"logger_\",\"persistent\",\"assert\",\"logLevel\",\"LogLevel\",\"VERBOSE\",\"log\",\"bind\",\"logWrapper\",\"prefix\",\"__spread\",\"error\",\"fatal\",\"Error\",\"warn\",\"isInvalidJSONNumber\",\"data\",\"Number\",\"POSITIVE_INFINITY\",\"NEGATIVE_INFINITY\",\"MIN_NAME\",\"MAX_NAME\",\"nameCompare\",\"a\",\"b\",\"aAsInt\",\"tryParseInt\",\"bAsInt\",\"stringCompare\",\"requireKey\",\"obj\",\"ObjectToUniqueKey\",\"keys\",\"k\",\"sort\",\"splitStringBySize\",\"segsize\",\"len\",\"dataSegs\",\"c\",\"substring\",\"each\",\"fn\",\"hasOwnProperty\",\"doubleToIEEE754String\",\"v\",\"s\",\"f\",\"ln\",\"Infinity\",\"Math\",\"abs\",\"pow\",\"min\",\"floor\",\"LN2\",\"round\",\"bits\",\"reverse\",\"join\",\"hexByteString\",\"hexByte\",\"parseInt\",\"substr\",\"toLowerCase\",\"INTEGER_REGEXP_\",\"RegExp\",\"test\",\"intVal\",\"exceptionGuard\",\"setTimeout\",\"stack\",\"setTimeoutNonBlocking\",\"time\",\"timeout\",\"Path\",\"pathOrString\",\"pieceNum\",\"pieces_\",\"split\",\"copyTo\",\"pieceNum_\",\"enumerable\",\"configurable\",\"getFront\",\"getLength\",\"popFront\",\"getBack\",\"pathString\",\"toUrlEncodedString\",\"encodeURIComponent\",\"String\",\"slice\",\"begin\",\"parent\",\"pieces\",\"child\",\"childPathObj\",\"childPieces\",\"isEmpty\",\"relativePath\",\"outerPath\",\"innerPath\",\"outer\",\"inner\",\"comparePaths\",\"left\",\"right\",\"leftKeys\",\"rightKeys\",\"cmp\",\"equals\",\"other\",\"j\",\"ValidationPath\",\"path\",\"errorPrefix_\",\"parts_\",\"byteLength_\",\"max\",\"stringLength\",\"checkValid_\",\"pop\",\"last\",\"MAX_PATH_LENGTH_BYTES\",\"MAX_PATH_DEPTH\",\"toErrorString\",\"RepoInfo\",\"host\",\"secure\",\"namespace\",\"webSocketOnly\",\"persistenceKey\",\"includeNamespaceInQueryParams\",\"domain\",\"indexOf\",\"internalHost\",\"needsQueryParam\",\"isCustomHost\",\"isCacheableHost\",\"isDemoHost\",\"updateHost\",\"newHost\",\"connectionURL\",\"type\",\"params\",\"connURL\",\"pairs\",\"toURLString\",\"PUSH_CHARS\",\"lastPushTime\",\"lastRandChars\",\"__EMPTY_NODE\",\"MAX_NODE\",\"parseRepoInfo\",\"dataURL\",\"parsedUrl\",\"parseDatabaseURL\",\"location\",\"protocol\",\"scheme\",\"repoInfo\",\"subdomain\",\"port\",\"colonInd\",\"slashInd\",\"questionMarkInd\",\"pathStringDecoded\",\"piece\",\"decodeURIComponent\",\"replace\",\"decodePath\",\"queryParams\",\"queryString\",\"e_1\",\"_a\",\"results\",\"charAt\",\"_b\",\"__values\",\"_c\",\"next\",\"done\",\"segment\",\"kv\",\"e_1_1\",\"call\",\"decodeQuery\",\"hostWithoutPort\",\"dotInd\",\"INVALID_KEY_REGEX_\",\"INVALID_PATH_REGEX_\",\"isValidKey\",\"isValidPathString\",\"isValidPriority\",\"priority\",\"validateFirebaseDataArg\",\"fnName\",\"argumentNumber\",\"optional\",\"undefined\",\"validateFirebaseData\",\"errorPrefix\",\"path_\",\"hasDotValue_1\",\"hasActualChild_1\",\"validateFirebaseMergeDataArg\",\"mergePaths\",\"curPath\",\"prevPath\",\"validateFirebaseMergePaths\",\"validatePriority\",\"validateEventType\",\"eventType\",\"validateKey\",\"validatePathString\",\"validateRootPathString\",\"validateWritablePath\",\"validateUrl\",\"isValidRootPathString\",\"validateBoolean\",\"bool\",\"OnDisconnect\",\"repo_\",\"cancel\",\"onComplete\",\"validateArgCount\",\"validateCallback\",\"deferred\",\"Deferred\",\"onDisconnectCancel\",\"wrapCallback\",\"promise\",\"onDisconnectSet\",\"setWithPriority\",\"onDisconnectSetWithPriority\",\"objectToMerge\",\"newObjectToMerge\",\"onDisconnectUpdate\",\"TransactionResult\",\"committed\",\"snapshot\",\"toJSON\",\"nextPushId\",\"now\",\"duplicateTime\",\"timeStampChars\",\"random\",\"NamedNode\",\"node\",\"Wrap\",\"Index\",\"getCompare\",\"compare\",\"indexedValueChanged\",\"oldNode\",\"newNode\",\"oldWrapped\",\"newWrapped\",\"minPost\",\"MIN\",\"KeyIndex\",\"_super\",\"__extends\",\"val\",\"isDefinedOn\",\"assertionError\",\"maxPost\",\"makePost\",\"indexValue\",\"KEY_INDEX\",\"__childrenNodeConstructor\",\"nodeFromJSON\",\"MAX_NODE$1\",\"priorityHashText\",\"validatePriorityNode\",\"priorityNode\",\"isLeafNode\",\"getPriority\",\"LeafNode\",\"value_\",\"priorityNode_\",\"EMPTY_NODE\",\"lazyHash_\",\"updatePriority\",\"newPriorityNode\",\"getImmediateChild\",\"childName\",\"getChild\",\"hasChild\",\"getPredecessorChildName\",\"childNode\",\"updateImmediateChild\",\"newChildNode\",\"updateChild\",\"front\",\"numChildren\",\"forEachChild\",\"index\",\"action\",\"exportFormat\",\".value\",\"getValue\",\".priority\",\"hash\",\"toHash\",\"compareTo\",\"compareToLeafNode_\",\"otherLeaf\",\"otherLeafType\",\"thisLeafType\",\"otherIndex\",\"VALUE_TYPE_ORDER\",\"thisIndex\",\"withIndex\",\"isIndexed\",\"_defaultIndexMap\",\"PRIORITY_INDEX\",\"PriorityIndex\",\"aPriority\",\"bPriority\",\"indexCmp\",\"SortedMapIterator\",\"startKey\",\"comparator\",\"isReverse_\",\"resultGenerator_\",\"nodeStack_\",\"getNext\",\"result\",\"hasNext\",\"peek\",\"LLRBNode\",\"color\",\"RED\",\"SortedMap\",\"copy\",\"count\",\"inorderTraversal\",\"reverseTraversal\",\"min_\",\"minKey\",\"maxKey\",\"insert\",\"n\",\"fixUp_\",\"removeMin_\",\"isRed_\",\"moveRedLeft_\",\"smallest\",\"rotateRight_\",\"moveRedRight_\",\"rotateLeft_\",\"colorFlip_\",\"nl\",\"nr\",\"checkMaxDepth_\",\"blackDepth\",\"check_\",\"BLACK\",\"LLRBEmptyNode\",\"comparator_\",\"root_\",\"getPredecessorKey\",\"rightParent\",\"getIterator\",\"resultGenerator\",\"getIteratorFrom\",\"getReverseIteratorFrom\",\"getReverseIterator\",\"LOG_2\",\"Base12Num\",\"num\",\"current_\",\"mask\",\"bits_\",\"nextBitIsOne\",\"buildChildSet\",\"childList\",\"keyFn\",\"mapSortFn\",\"root\",\"base12\",\"buildPennant\",\"chunkSize\",\"low\",\"high\",\"childTree\",\"buildBalancedTree\",\"namedNode\",\"middle\",\"attachPennant\",\"pennant\",\"isOne\",\"buildFrom12Array\",\"fallbackObject\",\"IndexMap\",\"indexes_\",\"indexSet_\",\"indexKey\",\"sortedMap\",\"safeGet\",\"hasIndex\",\"indexDefinition\",\"addIndex\",\"existingChildren\",\"newIndex\",\"sawIndexedValue\",\"iter\",\"indexName\",\"newIndexSet\",\"__assign\",\"newIndexes\",\"addToIndexes\",\"_this\",\"map\",\"indexedChildren\",\"existingSnap\",\"newChildren\",\"removeFromIndexes\",\"NAME_ONLY_COMPARATOR\",\"NAME_COMPARATOR\",\"ChildrenNode\",\"children_\",\"indexMap_\",\"Default\",\"newIndexMap\",\"newPriority\",\"newImmediateChild\",\"numKeys\",\"allIntegerKeys\",\"array\",\"toHash_1\",\"childHash\",\"idx\",\"resolveIndex_\",\"predecessor\",\"getFirstChildName\",\"getFirstChild\",\"getLastChildName\",\"getLastChild\",\"wrappedNode\",\"startPost\",\"iterator\",\"endPost\",\"MAX_NODE$2\",\"otherChildrenNode\",\"thisIter\",\"otherIter\",\"thisCurrent\",\"otherCurrent\",\"MaxNode\",\"defineProperties\",\"MAX\",\"setMaxNode$1\",\"nodeFromJSON$1\",\"json\",\"node_1\",\"childData\",\"children_1\",\"childrenHavePriority_1\",\"childSet\",\"sortedChildSet\",\"setNodeFromJSON\",\"__referenceConstructor\",\"VALUE_INDEX\",\"ValueIndex\",\"valueNode\",\"PathIndex\",\"indexPath_\",\"extractChild\",\"snap\",\"aChild\",\"bChild\",\"DataSnapshot\",\"node_\",\"ref_\",\"index_\",\"exportVal\",\"exists\",\"childPathString\",\"childPath\",\"childRef\",\"forEach\",\"childrenNode\",\"hasChildren\",\"getKey\",\"getRef\",\"DataEvent\",\"eventRegistration\",\"prevName\",\"getPath\",\"ref\",\"getParent\",\"getEventType\",\"getEventRunner\",\"CancelEvent\",\"ValueEventRegistration\",\"callback_\",\"cancelCallback_\",\"context_\",\"respondsTo\",\"createEvent\",\"change\",\"query\",\"getQueryParams\",\"getIndex\",\"snapshotNode\",\"eventData\",\"ctx\",\"cancelCB_1\",\"cb_1\",\"createCancelEvent\",\"matches\",\"hasAnyCallback\",\"ChildEventRegistration\",\"callbacks_\",\"eventToCheck\",\"cancelCB_2\",\"cb_2\",\"otherKeys\",\"thisKeys\",\"otherCount\",\"otherKey\",\"thisKey\",\"every\",\"Query\",\"repo\",\"queryParams_\",\"orderByCalled_\",\"validateQueryEndpoints_\",\"startNode\",\"endNode\",\"hasStart\",\"getIndexStartValue\",\"hasEnd\",\"getIndexEndValue\",\"tooManyArgsError\",\"wrongArgTypeError\",\"getIndexStartName\",\"getIndexEndName\",\"validateLimit_\",\"hasLimit\",\"hasAnchoredLimit\",\"validateNoPreviousOrderByCall_\",\"on\",\"callback\",\"cancelCallbackOrContext\",\"context\",\"ret\",\"getCancelAndContextArgs_\",\"onValueEvent\",\"callbacks\",\"onChildEvent\",\"cancelCallback\",\"container\",\"addEventCallbackForQuery\",\"off\",\"validateContextObject\",\"valueCallback\",\"removeEventCallbackForQuery\",\"once\",\"userCallback\",\"failureCallbackOrContext\",\"firstCall\",\"onceCallback\",\"resolve\",\"err\",\"reject\",\"limitToFirst\",\"limit\",\"limitToLast\",\"orderByChild\",\"parsedPath\",\"newParams\",\"orderBy\",\"orderByKey\",\"orderByPriority\",\"orderByValue\",\"startAt\",\"endAt\",\"equalTo\",\"queryObject\",\"getQueryObject\",\"queryIdentifier\",\"isEqual\",\"sameRepo\",\"samePath\",\"sameQueryIdentifier\",\"cancelOrContext\",\"ExistingValueProvider\",\"DeferredValueProvider\",\"syncTree\",\"syncTree_\",\"calcCompleteEventCache\",\"resolveDeferredLeafValue\",\"existingVal\",\"serverValues\",\"resolveScalarDeferredValue\",\"resolveComplexDeferredValue\",\"JSON\",\"op\",\"existing\",\"unused\",\"delta\",\"existingNode\",\"resolveDeferredValueTree\",\"resolveDeferredValue\",\"resolveDeferredValueSnapshot\",\"rawPri\",\"leafNode\",\"OperationType\",\"SparseSnapshotTree\",\"children\",\"Map\",\"find\",\"size\",\"childKey\",\"has\",\"remember\",\"clear\",\"forget\",\"self_1\",\"tree\",\"forEachTree\",\"prefixPath\",\"func\",\"emptyChildrenSingleton\",\"__referenceConstructor$1\",\"OperationSource\",\"fromUser\",\"fromServer\",\"queryId\",\"tagged\",\"User\",\"Server\",\"forServerTaggedQuery\",\"AckUserWrite\",\"affectedTree\",\"revert\",\"ACK_USER_WRITE\",\"source\",\"operationForChild\",\"subtree\",\"Empty\",\"ImmutableTree\",\"fromObject\",\"childSnap\",\"findRootMostMatchingPathAndValue\",\"predicate\",\"childExistingPathAndValue\",\"findRootMostValueAndPath\",\"toSet\",\"newChild\",\"setTree\",\"newTree\",\"fold\",\"fold_\",\"pathSoFar\",\"accum\",\"findOnPath\",\"findOnPath_\",\"pathToFollow\",\"nextChild\",\"foreachOnPath\",\"foreachOnPath_\",\"currentRelativePath\",\"foreach\",\"foreach_\",\"foreachChild\",\"ListenComplete\",\"LISTEN_COMPLETE\",\"Overwrite\",\"OVERWRITE\",\"Merge\",\"MERGE\",\"CacheNode\",\"fullyInitialized_\",\"filtered_\",\"isFullyInitialized\",\"isFiltered\",\"isCompleteForPath\",\"isCompleteForChild\",\"getNode\",\"ViewCache\",\"eventCache_\",\"serverCache_\",\"updateEventSnap\",\"eventSnap\",\"complete\",\"filtered\",\"updateServerSnap\",\"serverSnap\",\"getEventCache\",\"getCompleteEventSnap\",\"getServerCache\",\"getCompleteServerSnap\",\"Change\",\"oldSnap\",\"valueChange\",\"VALUE\",\"childAddedChange\",\"CHILD_ADDED\",\"childRemovedChange\",\"CHILD_REMOVED\",\"childChangedChange\",\"newSnapshot\",\"oldSnapshot\",\"CHILD_CHANGED\",\"childMovedChange\",\"CHILD_MOVED\",\"IndexedFilter\",\"affectedPath\",\"optChangeAccumulator\",\"oldChild\",\"trackChildChange\",\"updateFullNode\",\"newSnap\",\"filtersNodes\",\"getIndexedFilter\",\"ChildChangeAccumulator\",\"changeMap\",\"oldChange\",\"oldType\",\"getChanges\",\"from\",\"values\",\"NO_COMPLETE_CHILD_SOURCE\",\"NoCompleteChildSource_\",\"getCompleteChild\",\"getChildAfterChild\",\"WriteTreeCompleteChildSource\",\"writes_\",\"viewCache_\",\"optCompleteServerCache_\",\"serverNode\",\"calcCompleteChild\",\"completeServerData\",\"nodes\",\"calcIndexedSlice\",\"ProcessorResult\",\"viewCache\",\"changes\",\"ViewProcessor\",\"filter_\",\"assertIndexed\",\"applyOperation\",\"oldViewCache\",\"operation\",\"writesCache\",\"completeCache\",\"newViewCache\",\"filterServerNode\",\"accumulator\",\"overwrite\",\"applyUserOverwrite_\",\"applyServerOverwrite_\",\"merge\",\"applyUserMerge_\",\"applyServerMerge_\",\"ackUserWrite\",\"revertUserWrite_\",\"ackUserWrite_\",\"listenComplete_\",\"maybeAddValueEvent_\",\"isLeafOrEmpty\",\"oldCompleteSnap\",\"generateEventCacheAfterServerEvent_\",\"changePath\",\"oldEventSnap\",\"shadowingWrite\",\"newEventCache\",\"serverCache\",\"completeChildren\",\"completeEventChildren\",\"calcCompleteEventChildren\",\"completeNode\",\"oldEventNode\",\"updatedPriority\",\"calcEventCacheAfterServerOverwrite\",\"childChangePath\",\"newEventChild\",\"eventChildUpdate\",\"changedSnap\",\"newServerCache\",\"oldServerSnap\",\"serverFilter\",\"newServerNode\",\"newEventSnap\",\"cacheHasChild_\",\"changedChildren\",\"curViewCache\",\"writePath\",\"applyMerge_\",\"viewMergeTree\",\"serverChild\",\"childMergeTree\",\"isUnknownDeepMerge\",\"ackPath\",\"changedChildren_1\",\"changedChildren_2\",\"mergePath\",\"serverCachePath\",\"oldServerNode\",\"completeServerCache\",\"oldEventCache\",\"serverChildren\",\"EventGenerator\",\"query_\",\"generateEventsForChanges\",\"eventCache\",\"eventRegistrations\",\"events\",\"moves\",\"generateEventsForType_\",\"registrations\",\"filteredChanges\",\"filter\",\"compareChanges_\",\"materializedChange\",\"materializeSingleChange_\",\"registration\",\"aWrapped\",\"bWrapped\",\"View\",\"initialViewCache\",\"eventRegistrations_\",\"indexFilter\",\"getNodeFilter\",\"processor_\",\"initialServerCache\",\"initialEventCache\",\"eventGenerator_\",\"getQuery\",\"getCompleteServerCache\",\"cache\",\"loadsAllData\",\"addEventRegistration\",\"removeEventRegistration\",\"cancelError\",\"cancelEvents\",\"path_1\",\"maybeEvent\",\"remaining\",\"concat\",\"generateEventsForChanges_\",\"getInitialEvents\",\"initialChanges\",\"SyncPoint\",\"views\",\"optCompleteServerCache\",\"view\",\"serverCacheComplete\",\"eventCacheComplete\",\"e_2\",\"removed\",\"hadCompleteView\",\"hasCompleteView\",\"entries\",\"_d\",\"__read\",\"viewQueryId\",\"e_2_1\",\"getQueryViews\",\"e_3\",\"e_3_1\",\"e_4\",\"e_4_1\",\"viewForQuery\",\"getCompleteView\",\"viewExistsForQuery\",\"e_5\",\"e_5_1\",\"CompoundWrite\",\"writeTree_\",\"addWrite\",\"rootmost\",\"rootMostPath\",\"addWrites\",\"updates\",\"newWrite\",\"removeWrite\",\"hasCompleteWrite\",\"getCompleteNode\",\"getCompleteChildren\",\"childCompoundWrite\",\"shadowingNode\",\"applySubtreeWrite\",\"writeTree\",\"priorityWrite_1\",\"WriteTree\",\"visibleWrites_\",\"allWrites_\",\"lastWriteId_\",\"childWrites\",\"WriteTreeRef\",\"addOverwrite\",\"writeId\",\"visible\",\"addMerge\",\"getWrite\",\"record\",\"findIndex\",\"writeToRemove\",\"splice\",\"removedWriteWasVisible\",\"removedWriteOverlapsWithOtherWrites\",\"currentWrite\",\"recordContainsPath_\",\"resetTree_\",\"getCompleteWriteData\",\"treePath\",\"writeIdsToExclude\",\"includeHiddenWrites\",\"mergeAtPath\",\"layerTree_\",\"write\",\"layeredCache\",\"subMerge\",\"completeServerChildren\",\"topLevelSet\",\"merge_1\",\"existingEventSnap\",\"existingServerSnap\",\"childMerge\",\"toIterate\",\"writeRecord\",\"DefaultFilter_\",\"writes\",\"treeRoot\",\"compoundWrite\",\"deepNode\",\"treePath_\",\"existingServerCache\",\"SyncTree\",\"listenProvider_\",\"syncPointTree_\",\"pendingWriteTree_\",\"tagToQueryMap\",\"queryToTagMap\",\"applyUserOverwrite\",\"newData\",\"applyOperationToSyncPoints_\",\"applyUserMerge\",\"changeTree\",\"affectedTree_1\",\"applyServerOverwrite\",\"applyServerMerge\",\"applyListenComplete\",\"applyTaggedQueryOverwrite\",\"tag\",\"queryKey\",\"queryKeyForTag_\",\"r\",\"parseQueryKey_\",\"queryPath\",\"applyTaggedOperation_\",\"applyTaggedQueryMerge\",\"applyTaggedListenComplete\",\"foundAncestorDefaultView\",\"pathToSyncPoint\",\"sp\",\"syncPoint\",\"childSyncPoint\",\"viewAlreadyExists\",\"makeQueryKey_\",\"getNextQueryTag_\",\"setupListener_\",\"maybeSyncPoint\",\"removedAndEvents\",\"removingDefault\",\"covered\",\"parentSyncPoint\",\"newViews\",\"collectDistinctViewsForSubTree_\",\"newQuery\",\"listener\",\"createListenerForView_\",\"startListening\",\"queryForListening_\",\"tagForQuery_\",\"hashFn\",\"stopListening\",\"queryToRemove\",\"tagToRemove\",\"removeTags_\",\"maybeChildSyncPoint\",\"childMap\",\"views_1\",\"_key\",\"childViews\",\"queries\",\"removedQuery\",\"removedQueryKey\",\"removedQueryTag\",\"isDefault\",\"queriesToStop\",\"queries_1\",\"childQueries\",\"queryToStop\",\"status\",\"code\",\"reason\",\"toUpperCase\",\"errorForServerCode\",\"splitIndex\",\"nextQueryTag_\",\"applyOperationHelper_\",\"syncPointTree\",\"applyOperationDescendantsHelper_\",\"childOperation\",\"childServerCache\",\"childWritesCache\",\"SnapshotHolder\",\"rootNode_\",\"updateSnapshot\",\"newSnapshotNode\",\"AuthTokenProvider\",\"app_\",\"authProvider_\",\"auth_\",\"getImmediate\",\"then\",\"auth\",\"getToken\",\"forceRefresh\",\"Promise\",\"addTokenChangeListener\",\"addAuthTokenListener\",\"removeTokenChangeListener\",\"removeAuthTokenListener\",\"notifyForInvalidToken\",\"errorMessage\",\"options\",\"StatsCollection\",\"counters_\",\"incrementCounter\",\"amount\",\"deepCopy\",\"StatsManager\",\"getCollection\",\"hashString\",\"collections_\",\"getOrCreateReporter\",\"creatorFunction\",\"reporters_\",\"StatsListener\",\"collection_\",\"last_\",\"newStats\",\"stat\",\"StatsReporter\",\"collection\",\"server_\",\"statsToReport_\",\"statsListener_\",\"reportStats_\",\"includeStat\",\"stats\",\"reportedStats\",\"haveStatsToReport\",\"reportStats\",\"EventQueue\",\"eventLists_\",\"recursionDepth_\",\"queueEvents\",\"eventDataList\",\"currList\",\"eventPath\",\"EventList\",\"add\",\"raiseEventsAtPath\",\"raiseQueuedEventsMatchingPredicate_\",\"raiseEventsForChangedPath\",\"changedPath\",\"sentAll\",\"eventList\",\"raise\",\"events_\",\"eventFn\",\"EventEmitter\",\"allowedEvents_\",\"listeners_\",\"trigger\",\"listeners\",\"validateEventType_\",\"getInitialEvent\",\"et\",\"VisibilityMonitor\",\"hidden\",\"visibilityChange\",\"document\",\"addEventListener\",\"visible_\",\"getInstance\",\"OnlineMonitor\",\"online_\",\"isMobileCordova\",\"currentlyOnline\",\"PacketReceiver\",\"onMessage_\",\"pendingResponses\",\"currentResponseNum\",\"closeAfterResponse\",\"onClose\",\"closeAfter\",\"responseNum\",\"handleResponse\",\"requestNum\",\"_loop_1\",\"toProcess\",\"this_1\",\"_loop_2\",\"BrowserPollConnection\",\"connId\",\"applicationId\",\"transportSessionId\",\"lastSessionId\",\"bytesSent\",\"bytesReceived\",\"everConnected_\",\"log_\",\"stats_\",\"urlFn\",\"open\",\"onMessage\",\"onDisconnect\",\"curSegmentNum\",\"onDisconnect_\",\"myPacketOrderer\",\"isClosed_\",\"connectTimeoutTimer_\",\"onClosed_\",\"isNodeSdk\",\"readyState\",\"called_1\",\"wrappedFn_1\",\"body\",\"attachEvent\",\"executeWhenDOMReady\",\"scriptTagHolder\",\"FirebaseIFrameScriptHolder\",\"args\",\"command\",\"arg1\",\"arg2\",\"incrementIncomingBytes_\",\"clearTimeout\",\"password\",\"sendNewPolls\",\"pN\",\"urlParams\",\"start\",\"uniqueCallbackIdentifier\",\"href\",\"connectURL\",\"addTag\",\"startLongPoll\",\"addDisconnectPingFrame\",\"forceAllow\",\"forceAllow_\",\"forceDisallow\",\"forceDisallow_\",\"isAvailable\",\"createElement\",\"Windows\",\"UI\",\"markConnectionHealthy\",\"shutdown_\",\"close\",\"myDisconnFrame\",\"removeChild\",\"send\",\"dataStr\",\"base64data\",\"base64Encode\",\"MAX_URL_DATA_SIZE\",\"enqueueSegment\",\"pw\",\"dframe\",\"src\",\"style\",\"display\",\"appendChild\",\"commandCB\",\"onMessageCB\",\"outstandingRequests\",\"Set\",\"pendingSegs\",\"currentSerial\",\"myIFrame\",\"createIFrame_\",\"script\",\"iframeContents\",\"doc\",\"iframe\",\"contentWindow\",\"contentDocument\",\"alive\",\"innerHTML\",\"myID\",\"myPW\",\"newRequest_\",\"theURL\",\"curDataString\",\"d\",\"theSeg\",\"shift\",\"seg\",\"ts\",\"addLongPollTag_\",\"segnum\",\"totalsegs\",\"url\",\"serial\",\"doNewRequest\",\"keepaliveTimeout\",\"loadCB\",\"doNodeLongPoll\",\"newScript_1\",\"async\",\"onload\",\"onreadystatechange\",\"rstate\",\"parentNode\",\"onerror\",\"SDK_VERSION\",\"WebSocketImpl\",\"MozWebSocket\",\"WebSocket\",\"WebSocketConnection\",\"keepaliveTimer\",\"frames\",\"totalFrames\",\"connectionURL_\",\"device\",\"CONSTANTS\",\"NODE_ADMIN\",\"headers\",\"User-Agent\",\"platform\",\"X-Firebase-GMPID\",\"env\",\"proxy\",\"origin\",\"mySock\",\"onopen\",\"onclose\",\"onmessage\",\"m\",\"handleIncomingFrame\",\"isOldAndroid\",\"navigator\",\"userAgent\",\"oldAndroidMatch\",\"match\",\"parseFloat\",\"previouslyFailed\",\"appendFrame_\",\"fullMess\",\"jsonMess\",\"handleNewFrameCount_\",\"frameCount\",\"extractFrameCount_\",\"isNaN\",\"mess\",\"resetKeepAlive\",\"remainingData\",\"sendString_\",\"clearInterval\",\"setInterval\",\"responsesRequiredToBeHealthy\",\"healthyTimeout\",\"TransportManager\",\"initTransports_\",\"isWebSocketsAvailable\",\"isSkipPollConnection\",\"transports_\",\"transports\",\"ALL_TRANSPORTS\",\"transport\",\"initialTransport\",\"upgradeTransport\",\"Connection\",\"repoInfo_\",\"applicationId_\",\"onReady_\",\"onKill_\",\"connectionCount\",\"pendingDataMessages\",\"state_\",\"transportManager_\",\"start_\",\"conn\",\"conn_\",\"nextTransportId_\",\"primaryResponsesRequired_\",\"onMessageReceived\",\"connReceiver_\",\"onConnectionLost\",\"disconnReceiver_\",\"tx_\",\"rx_\",\"secondaryConn_\",\"isHealthy_\",\"healthyTimeoutMS\",\"healthyTimeout_\",\"everConnected\",\"onConnectionLost_\",\"onSecondaryConnectionLost_\",\"onPrimaryMessageReceived_\",\"onSecondaryMessageReceived_\",\"sendRequest\",\"dataMsg\",\"msg\",\"t\",\"sendData_\",\"tryCleanupConnection\",\"onSecondaryControl_\",\"controlData\",\"cmd\",\"upgradeIfSecondaryHealthy_\",\"secondaryResponsesRequired_\",\"parsedData\",\"layer\",\"proceedWithUpgrade_\",\"onControl_\",\"onDataMessage_\",\"onPrimaryResponse_\",\"payload\",\"onHandshake_\",\"onConnectionShutdown_\",\"onReset_\",\"sendPingOnPrimaryIfNecessary_\",\"handshake\",\"timestamp\",\"version\",\"h\",\"sessionId\",\"onConnectionEstablished_\",\"tryStartUpgrade_\",\"startUpgrade_\",\"closeConnections_\",\"ServerActions\",\"put\",\"refreshAuthToken\",\"token\",\"onDisconnectPut\",\"onDisconnectMerge\",\"PersistentConnection\",\"onDataUpdate_\",\"onConnectStatus_\",\"onServerInfoUpdate_\",\"authTokenProvider_\",\"authOverride_\",\"nextPersistentConnectionId_\",\"interruptReasons_\",\"listens\",\"outstandingPuts_\",\"outstandingPutCount_\",\"onDisconnectRequestQueue_\",\"connected_\",\"reconnectDelay_\",\"maxReconnectDelay_\",\"securityDebugCallback_\",\"establishConnectionTimer_\",\"requestCBHash_\",\"requestNumber_\",\"realtime_\",\"authToken_\",\"forceTokenRefresh_\",\"invalidAuthTokenCount_\",\"firstConnection_\",\"lastConnectionAttemptTime_\",\"lastConnectionEstablishedTime_\",\"scheduleConnect_\",\"onVisible_\",\"onOnline_\",\"onResponse\",\"curReqNum\",\"listen\",\"currentHashFn\",\"listenSpec\",\"sendListen_\",\"req\",\"p\",\"warnOnListenWarnings_\",\"removeListen_\",\"warnings\",\"indexSpec\",\"indexPath\",\"tryAuth\",\"reduceReconnectDelayIfAdminCredential_\",\"credential\",\"isAdmin\",\"token_1\",\"authMethod\",\"isValidFormat\",\"requestData\",\"cred\",\"res\",\"onAuthRevoked_\",\"unlisten\",\"sendUnlisten_\",\"queryObj\",\"sendOnDisconnect_\",\"request\",\"response\",\"putInternal\",\"sendPut_\",\"queued\",\"errorReason\",\"reqNum\",\"onDataPush_\",\"onListenRevoked_\",\"onSecurityDebugPacket_\",\"Date\",\"getTime\",\"handleTimestamp_\",\"sendConnectStats_\",\"restoreState_\",\"establishConnection_\",\"online\",\"onRealtimeDisconnect_\",\"cancelSentTransactions_\",\"shouldReconnect_\",\"timeSinceLastConnectAttempt\",\"reconnectDelay\",\"onDataMessage_1\",\"onReady_1\",\"onDisconnect_1\",\"connId_1\",\"nextConnectionId_\",\"lastSessionId_1\",\"canceled_1\",\"connection_1\",\"closeFn_1\",\"accessToken\",\"interrupt\",\"resume\",\"serverTimeOffset\",\"q\",\"normalizedPathString\",\"statusCode\",\"explanation\",\"console\",\"_e\",\"_f\",\"clientName\",\"NODE_CLIENT\",\"isReactNative\",\"ReadonlyRestClient\",\"listens_\",\"getListenId_\",\"listenId\",\"thisListen\",\"queryStringParameters\",\"toRestQueryStringParameters\",\"restRequest_\",\"authTokenData\",\"authToken\",\"querystring\",\"xhr\",\"XMLHttpRequest\",\"responseText\",\"Repo\",\"forceRestClient\",\"app\",\"authProvider\",\"dataUpdateCount\",\"eventQueue_\",\"nextWriteId_\",\"interceptServerDataCallback_\",\"persistentConnection_\",\"authTokenProvider\",\"search\",\"authOverride\",\"appId\",\"statsReporter_\",\"transactionsInit_\",\"infoData_\",\"infoSyncTree_\",\"infoEvents\",\"updateInfo_\",\"serverSyncTree_\",\"serverTime\",\"offset\",\"generateServerValues\",\"isMerge\",\"taggedChildren\",\"raw\",\"taggedSnap\",\"rerunTransactions_\",\"interceptServerData_\",\"connectStatus\",\"runOnDisconnectEvents_\",\"getNextWriteId_\",\"newVal\",\"newNodeUnresolved\",\"success\",\"clearEvents\",\"callOnCompleteCallback\",\"abortTransactions_\",\"childrenToMerge\",\"empty\",\"changedKey\",\"changedValue\",\"writeId_1\",\"resolvedOnDisconnectTree\",\"resolved\",\"showDelta\",\"longestName\",\"reduce\",\"previousValue\",\"currentValue\",\"paddedStat\",\"statsIncrementCounter\",\"metric\",\"__database\",\"Database\",\"RangedFilter\",\"indexedFilter_\",\"startPost_\",\"getStartPost_\",\"endPost_\",\"getEndPost_\",\"getStartPost\",\"getEndPost\",\"self\",\"startName\",\"endName\",\"LimitedFilter\",\"rangedFilter_\",\"limit_\",\"getLimit\",\"reverse_\",\"isViewFromLeft\",\"fullLimitUpdateChild_\",\"indexCompare_1\",\"foundStartPost\",\"changeAccumulator\",\"indexCmp_1\",\"newChildNamedNode\",\"windowBoundary\",\"inRange\",\"oldChildSnap\",\"compareNext\",\"QueryParams\",\"limitSet_\",\"startSet_\",\"startNameSet_\",\"endSet_\",\"endNameSet_\",\"viewFrom_\",\"indexStartValue_\",\"indexStartName_\",\"indexEndValue_\",\"indexEndName_\",\"WIRE_PROTOCOL_CONSTANTS_\",\"VIEW_FROM_LEFT\",\"copy_\",\"newLimit\",\"VIEW_FROM_RIGHT\",\"WIRE_PROTOCOL_CONSTANTS\",\"INDEX_START_VALUE\",\"INDEX_START_NAME\",\"INDEX_END_VALUE\",\"INDEX_END_NAME\",\"LIMIT\",\"viewFrom\",\"VIEW_FROM\",\"INDEX\",\"REST_CONSTANTS\",\"REST_QUERY_CONSTANTS_\",\"qs\",\"ORDER_BY\",\"START_AT\",\"END_AT\",\"LIMIT_TO_FIRST\",\"LIMIT_TO_LAST\",\"DEFAULT\",\"Reference\",\"parentPath\",\"getRoot\",\"databaseProp\",\"database\",\"transaction\",\"transactionUpdate\",\"applyLocally\",\"promiseComplete\",\"startTransaction\",\"setPriority\",\"thennablePushRef\",\"pushRef\",\"TransactionStatus\",\"TreeNode\",\"childCount\",\"Tree\",\"name_\",\"parent_\",\"subTree\",\"pathObj\",\"setValue\",\"updateParents_\",\"forEachDescendant\",\"includeSelf\",\"childrenFirst\",\"forEachAncestor\",\"forEachImmediateDescendantWithValue\",\"updateChild_\",\"childEmpty\",\"childExists\",\"MAX_TRANSACTION_RETRIES_\",\"transactionQueueTree_\",\"watchRef\",\"order\",\"retryCount\",\"unwatcher\",\"abortReason\",\"currentWriteId\",\"currentInputSnapshot\",\"currentOutputSnapshotRaw\",\"currentOutputSnapshotResolved\",\"currentState\",\"getLatestState_\",\"RUN\",\"queueNode\",\"nodeQueue\",\"priorityForNode\",\"sendReadyTransactions_\",\"excludeSets\",\"pruneCompletedTransactionsBelowNode_\",\"queue\",\"buildTransactionQueue_\",\"sendTransactionQueue_\",\"setsToIgnore\",\"txn\",\"latestState\",\"snapToSend\",\"latestHash\",\"SENT\",\"dataToSend\",\"pathToSend\",\"COMPLETED\",\"SENT_NEEDS_ABORT\",\"NEEDS_ABORT\",\"rootMostTransactionNode\",\"getAncestorTransactionNode_\",\"rerunTransactionQueue_\",\"abortTransaction\",\"currentNode\",\"newDataNode\",\"oldWriteId\",\"newNodeResolved\",\"lastInput\",\"transactionNode\",\"transactionQueue\",\"aggregateTransactionQueuesForNode_\",\"to\",\"abortTransactionsOnNode_\",\"lastSent\",\"_staticInstance\",\"RepoManager\",\"repos_\",\"useRestClient_\",\"appName\",\"dbUrl\",\"databaseFromApp\",\"dbEmulatorHost\",\"createRepo\",\"deleteRepo\",\"appRepos\",\"INTERNAL\",\"DatabaseInternals\",\"checkDeleted_\",\"refFromURL\",\"apiName\",\"parsedURL\",\"goOffline\",\"goOnline\",\"ServerValue\",\"TIMESTAMP\",\".sv\",\"increment\",\"__awaiter\",\"__generator\",\"freeze\",\"__proto__\",\"forceLongPolling\",\"forceWebSockets\",\"setSecurityDebugCallback\",\"interceptServerData\",\"DataConnection\",\"simpleListen\",\"echo\",\"onEcho\",\"RealTimeConnection\",\"ConnectionTarget\",\"TEST_ACCESS\",\"hijackHash\",\"newHash\",\"oldPut\",\"_forceRestClient\",\"registerDatabase\",\"instance\",\"setSDKVersion\",\"registerComponent\",\"Component\",\"getProvider\",\"setServiceProps\",\"setMultipleInstances\",\"registerVersion\"],\"mappings\":\"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\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{NSPt:function(t,e,n){\"use strict\";(function(r){n(\"DrhF\"),n(\"U6Bt\"),n(\"Ll4R\"),n(\"ToIb\"),n(\"6kNP\"),n(\"zTTH\"),n(\"OeI1\"),n(\"cFtU\"),n(\"v9g0\"),n(\"YbXK\"),n(\"xJgp\"),n(\"rzGZ\"),n(\"Dq+y\"),n(\"Ggvi\"),n(\"JHok\"),n(\"+ar0\"),n(\"AqHK\"),n(\"pJf4\"),n(\"nMRu\"),n(\"sC2a\"),n(\"HQhv\"),n(\"sPse\"),n(\"klQ5\"),n(\"zGcK\"),n(\"YBKJ\"),n(\"sc67\"),n(\"n7j8\"),n(\"MIFh\"),n(\"q8oJ\"),n(\"C9fy\"),n(\"8npG\"),n(\"R48M\"),Object.defineProperty(e,\"__esModule\",{value:!0});var i,o,s=(i=n(\"wj3C\"))&&\"object\"==typeof i&&\"default\"in i?i.default:i,a=n(\"mrSG\"),h=n(\"zVF4\"),l=n(\"q/0M\"),u=n(\"S+S0\"),c=function(){function t(t){this.domStorage_=t,this.prefix_=\"firebase:\"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),h.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:h.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),p=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return h.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if(\"undefined\"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem(\"firebase:sentinel\",\"cache\"),e.removeItem(\"firebase:sentinel\"),new c(e)}}catch(n){}return new p},f=d(\"localStorage\"),_=d(\"sessionStorage\"),y=new l.Logger(\"@firebase/database\"),v=(o=1,function(){return o++}),g=function(t){var e=h.stringToByteArray(t),n=new h.Sha1;n.update(e);var r=n.digest();return h.base64.encodeByteArray(r)},m=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=\"\",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&\"object\"==typeof o&&\"number\"==typeof o.length?r+=t.apply(null,o):r+=\"object\"==typeof o?h.stringify(o):o,r+=\" \"}return r},C=null,E=!0,w=function(t,e){h.assert(!e||!0===t||!1===t,\"Can't turn on custom loggers persistently.\"),!0===t?(y.logLevel=l.LogLevel.VERBOSE,C=y.log.bind(y),e&&_.set(\"logging_enabled\",!0)):\"function\"==typeof t?C=t:(C=null,_.remove(\"logging_enabled\"))},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===E&&(E=!1,null===C&&!0===_.get(\"logging_enabled\")&&w(!0)),C){var n=m.apply(null,t);C(n)}},b=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];T.apply(void 0,a.__spread([t],e))}},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE INTERNAL ERROR: \"+m.apply(void 0,a.__spread(t));y.error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE FATAL ERROR: \"+m.apply(void 0,a.__spread(t));throw y.error(n),new Error(n)},N=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE WARNING: \"+m.apply(void 0,a.__spread(t));y.warn(n)},P=function(t){return\"number\"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},R=\"[MIN_NAME]\",D=\"[MAX_NAME]\",x=function(t,e){if(t===e)return 0;if(t===R||e===D)return-1;if(e===R||t===D)return 1;var n=q(t),r=q(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},k=function(t,e){return t===e?0:t<e?-1:1},O=function(t,e){if(e&&t in e)return e[t];throw new Error(\"Missing required key (\"+t+\") in object: \"+h.stringify(e))},F=function t(e){if(\"object\"!=typeof e||null===e)return h.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i=\"{\",o=0;o<n.length;o++)0!==o&&(i+=\",\"),i+=h.stringify(n[o]),i+=\":\",i+=t(e[n[o]]);return i+=\"}\"},A=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function L(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var M=function(t){h.assert(!P(t),\"Invalid JSON number\");var e,n,r,i,o;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var a=s.join(\"\"),l=\"\";for(o=0;o<64;o+=8){var u=parseInt(a.substr(o,8),2).toString(16);1===u.length&&(u=\"0\"+u),l+=u}return l.toLowerCase()},W=new RegExp(\"^-?(0*)\\\\d{1,10}$\"),q=function(t){if(W.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Q=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||\"\";throw N(\"Exception was thrown by user callback.\",t),e}),Math.floor(0))}},U=function(t,e){var n=setTimeout(t,e);return\"object\"==typeof n&&n.unref&&n.unref(),n},V=function(){function t(t,e){if(void 0===e){this.pieces_=t.split(\"/\");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,\"Empty\",{get:function(){return new t(\"\")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t=\"\",e=this.pieceNum_;e<this.pieces_.length;e++)\"\"!==this.pieces_[e]&&(t+=\"/\"+this.pieces_[e]);return t||\"/\"},t.prototype.toUrlEncodedString=function(){for(var t=\"\",e=this.pieceNum_;e<this.pieces_.length;e++)\"\"!==this.pieces_[e]&&(t+=\"/\"+encodeURIComponent(String(this.pieces_[e])));return t||\"/\"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split(\"/\");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error(\"INTERNAL ERROR: innerPath (\"+n+\") is not within outerPath (\"+e+\")\")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=x(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),H=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=h.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,\"MAX_PATH_DEPTH\",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"MAX_PATH_LENGTH_BYTES\",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=h.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=h.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+\"has a key path longer than \"+t.MAX_PATH_LENGTH_BYTES+\" bytes (\"+this.byteLength_+\").\");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+\"path specified exceeds the maximum depth that can be written (\"+t.MAX_PATH_DEPTH+\") or object contains a cycle \"+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?\"\":\"in property '\"+this.parts_.join(\".\")+\"'\"},t}(),j=function(){function t(t,e,n,r,i,o){void 0===i&&(i=\"\"),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(\".\")+1),this.internalHost=f.get(\"host:\"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return\"s-\"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return\"firebaseio-demo.com\"===this.domain},t.prototype.isCustomHost=function(){return\"firebaseio.com\"!==this.domain&&\"firebaseio-demo.com\"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set(\"host:\"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(h.assert(\"string\"==typeof t,\"typeof type must == string\"),h.assert(\"object\"==typeof e,\"typeof params must == object\"),\"websocket\"===t)n=(this.secure?\"wss://\":\"ws://\")+this.internalHost+\"/.ws?\";else{if(\"long_polling\"!==t)throw new Error(\"Unknown connection type: \"+t);n=(this.secure?\"https://\":\"http://\")+this.internalHost+\"/.lp?\"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return L(e,(function(t,e){r.push(t+\"=\"+e)})),n+r.join(\"&\")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+=\"<\"+this.persistenceKey+\">\"),t},t.prototype.toURLString=function(){return(this.secure?\"https://\":\"http://\")+this.host},t}();var B,K,Y,z,G,X=function(t){var e=$(t),n=e.namespace;\"firebase.com\"===e.domain&&I(e.host+\" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead\"),n&&\"undefined\"!==n||\"localhost\"===e.domain||I(\"Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com\"),e.secure||\"undefined\"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf(\"https:\")&&N(\"Insecure Firebase access from a secure page. Please use https in calls to new Firebase().\");var r=\"ws\"===e.scheme||\"wss\"===e.scheme;return{repoInfo:new j(e.host,e.secure,n,r,\"\",n!==e.subdomain),path:new V(e.pathString)}},$=function(t){var e=\"\",n=\"\",r=\"\",i=\"\",o=\"\",s=!0,h=\"https\",l=443;if(\"string\"==typeof t){var u=t.indexOf(\"//\");u>=0&&(h=t.substring(0,u-1),t=t.substring(u+2));var c=t.indexOf(\"/\");-1===c&&(c=t.length);var p=t.indexOf(\"?\");-1===p&&(p=t.length),e=t.substring(0,Math.min(c,p)),c<p&&(i=function(t){for(var e=\"\",n=t.split(\"/\"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\\+/g,\" \"))}catch(o){}e+=\"/\"+i}return e}(t.substring(c,p)));var d=function(t){var e,n,r={};\"?\"===t.charAt(0)&&(t=t.substring(1));try{for(var i=a.__values(t.split(\"&\")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var h=s.split(\"=\");2===h.length?r[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):N(\"Invalid query segment '\"+s+\"' in query '\"+t+\"'\")}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,p)));(u=e.indexOf(\":\"))>=0?(s=\"https\"===h||\"wss\"===h,l=parseInt(e.substring(u+1),10)):u=e.length;var f=e.slice(0,u);if(\"localhost\"===f.toLowerCase())n=\"localhost\";else if(f.split(\".\").length<=2)n=f;else{var _=e.indexOf(\".\");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),o=r}\"ns\"in d&&(o=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:h,pathString:i,namespace:o}},J=/[\\[\\].#$\\/\\u0000-\\u001F\\u007F]/,Z=/[\\[\\].#$\\u0000-\\u001F\\u007F]/,tt=function(t){return\"string\"==typeof t&&0!==t.length&&!J.test(t)},et=function(t){return\"string\"==typeof t&&0!==t.length&&!Z.test(t)},nt=function(t){return null===t||\"string\"==typeof t||\"number\"==typeof t&&!P(t)||t&&\"object\"==typeof t&&h.contains(t,\".sv\")},rt=function(t,e,n,r,i){i&&void 0===n||it(h.errorPrefix(t,e,i),n,r)},it=function t(e,n,r){var i=r instanceof V?new H(r,e):r;if(void 0===n)throw new Error(e+\"contains undefined \"+i.toErrorString());if(\"function\"==typeof n)throw new Error(e+\"contains a function \"+i.toErrorString()+\" with contents = \"+n.toString());if(P(n))throw new Error(e+\"contains \"+n.toString()+\" \"+i.toErrorString());if(\"string\"==typeof n&&n.length>10485760/3&&h.stringLength(n)>10485760)throw new Error(e+\"contains a string greater than 10485760 utf8 bytes \"+i.toErrorString()+\" ('\"+n.substring(0,50)+\"...')\");if(n&&\"object\"==typeof n){var o=!1,s=!1;if(L(n,(function(n,r){if(\".value\"===n)o=!0;else if(\".priority\"!==n&&\".sv\"!==n&&(s=!0,!tt(n)))throw new Error(e+\" contains an invalid key (\"+n+\") \"+i.toErrorString()+'.  Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');i.push(n),t(e,r,i),i.pop()})),o&&s)throw new Error(e+' contains \".value\" child '+i.toErrorString()+\" in addition to actual children.\")}},ot=function(t,e,n,r,i){if(!i||void 0!==n){var o=h.errorPrefix(t,e,i);if(!n||\"object\"!=typeof n||Array.isArray(n))throw new Error(o+\" must be an object containing the children to replace.\");var s=[];L(n,(function(t,e){var n=new V(t);if(it(o,e,r.child(n)),\".priority\"===n.getBack()&&!nt(e))throw new Error(o+\"contains an invalid value for '\"+n.toString()+\"', which must be a valid Firebase priority (a string, finite number, server value, or null).\");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(\".priority\"===i[o]&&o===i.length-1);else if(!tt(i[o]))throw new Error(t+\"contains an invalid key (\"+i[o]+\") in path \"+r.toString()+'. Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');e.sort(V.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+\"contains a path \"+s.toString()+\" that is ancestor of another path \"+r.toString());s=r}}(o,s)}},st=function(t,e,n,r){if(!r||void 0!==n){if(P(n))throw new Error(h.errorPrefix(t,e,r)+\"is \"+n.toString()+\", but must be a valid Firebase priority (a string, finite number, server value, or null).\");if(!nt(n))throw new Error(h.errorPrefix(t,e,r)+\"must be a valid Firebase priority (a string, finite number, server value, or null).\")}},at=function(t,e,n,r){if(!r||void 0!==n)switch(n){case\"value\":case\"child_added\":case\"child_removed\":case\"child_changed\":case\"child_moved\":break;default:throw new Error(h.errorPrefix(t,e,r)+'must be a valid event type = \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".')}},ht=function(t,e,n,r){if(!(r&&void 0===n||tt(n)))throw new Error(h.errorPrefix(t,e,r)+'was an invalid key = \"'+n+'\".  Firebase keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").')},lt=function(t,e,n,r){if(!(r&&void 0===n||et(n)))throw new Error(h.errorPrefix(t,e,r)+'was an invalid path = \"'+n+'\". Paths must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\"')},ut=function(t,e,n,r){n&&(n=n.replace(/^\\/*\\.info(\\/|$)/,\"/\")),lt(t,e,n,r)},ct=function(t,e){if(\".info\"===e.getFront())throw new Error(t+\" failed = Can't modify data under /.info/\")},pt=function(t,e,n){var r=n.path.toString();if(\"string\"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!tt(n.repoInfo.namespace)&&\"localhost\"!==n.repoInfo.host.split(\":\")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\\/*\\.info(\\/|$)/,\"/\")),et(t)}(r))throw new Error(h.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\".')},dt=function(t,e,n,r){if((!r||void 0!==n)&&\"boolean\"!=typeof n)throw new Error(h.errorPrefix(t,e,r)+\"must be a boolean.\")},ft=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){h.validateArgCount(\"OnDisconnect.cancel\",0,1,arguments.length),h.validateCallback(\"OnDisconnect.cancel\",1,t,!0);var e=new h.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){h.validateArgCount(\"OnDisconnect.remove\",0,1,arguments.length),ct(\"OnDisconnect.remove\",this.path_),h.validateCallback(\"OnDisconnect.remove\",1,t,!0);var e=new h.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){h.validateArgCount(\"OnDisconnect.set\",1,2,arguments.length),ct(\"OnDisconnect.set\",this.path_),rt(\"OnDisconnect.set\",1,t,this.path_,!1),h.validateCallback(\"OnDisconnect.set\",2,e,!0);var n=new h.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){h.validateArgCount(\"OnDisconnect.setWithPriority\",2,3,arguments.length),ct(\"OnDisconnect.setWithPriority\",this.path_),rt(\"OnDisconnect.setWithPriority\",1,t,this.path_,!1),st(\"OnDisconnect.setWithPriority\",2,e,!1),h.validateCallback(\"OnDisconnect.setWithPriority\",3,n,!0);var r=new h.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(h.validateArgCount(\"OnDisconnect.update\",1,2,arguments.length),ct(\"OnDisconnect.update\",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[\"\"+r]=t[r];t=n,N(\"Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}ot(\"OnDisconnect.update\",1,t,this.path_,!1),h.validateCallback(\"OnDisconnect.update\",2,e,!0);var i=new h.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),_t=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return h.validateArgCount(\"TransactionResult.toJSON\",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),yt=(B=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\",K=0,Y=[],function(t){var e,n=t===K;K=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=B.charAt(t%64),t=Math.floor(t/64);h.assert(0===t,\"Cannot push at time == 0\");var i=r.join(\"\");if(n){for(e=11;e>=0&&63===Y[e];e--)Y[e]=0;Y[e]++}else for(e=0;e<12;e++)Y[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=B.charAt(Y[e]);return h.assert(20===i.length,\"nextPushId: Length should be 20.\"),i}),vt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),gt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new vt(R,t),r=new vt(R,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return vt.MIN},t}(),mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),Object.defineProperty(e,\"__EMPTY_NODE\",{get:function(){return z},set:function(t){z=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return x(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw h.assertionError(\"KeyIndex.isDefinedOn not expected to be called.\")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return vt.MIN},e.prototype.maxPost=function(){return new vt(D,z)},e.prototype.makePost=function(t,e){return h.assert(\"string\"==typeof t,\"KeyIndex indexValue must always be a string.\"),new vt(t,z)},e.prototype.toString=function(){return\".key\"},e}(gt),Ct=new mt;var Et,wt,Tt,bt=function(t){return\"number\"==typeof t?\"number:\"+M(t):\"string:\"+t},St=function(t){if(t.isLeafNode()){var e=t.val();h.assert(\"string\"==typeof e||\"number\"==typeof e||\"object\"==typeof e&&h.contains(e,\".sv\"),\"Priority must be a string or number.\")}else h.assert(t===G||t.isEmpty(),\"priority of unexpected type.\");h.assert(t===G||t.getPriority().isEmpty(),\"Priority nodes can't have a priority of their own.\")},It=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,h.assert(void 0!==this.value_&&null!==this.value_,\"LeafNode shouldn't be created with null/undefined value.\"),St(this.priorityNode_)}return Object.defineProperty(t,\"__childrenNodeConstructor\",{get:function(){return Et},set:function(t){Et=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return\".priority\"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:\".priority\"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return\".priority\"===e?this.updatePriority(n):n.isEmpty()&&\".priority\"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&\".priority\"!==r?this:(h.assert(\".priority\"!==r||1===e.getLength(),\".priority must be the last token in a path\"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{\".value\":this.getValue(),\".priority\":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t=\"\";this.priorityNode_.isEmpty()||(t+=\"priority:\"+bt(this.priorityNode_.val())+\":\");var e=typeof this.value_;t+=e+\":\",t+=\"number\"===e?M(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(h.assert(e.isLeafNode(),\"Unknown node type\"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return h.assert(i>=0,\"Unknown leaf type: \"+n),h.assert(o>=0,\"Unknown leaf type: \"+r),i===o?\"object\"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=[\"object\",\"boolean\",\"number\",\"string\"],t}();var Nt,Pt,Rt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return vt.MIN},e.prototype.maxPost=function(){return new vt(D,new It(\"[PRIORITY-POST]\",Tt))},e.prototype.makePost=function(t,e){var n=wt(t);return new vt(e,new It(\"[PRIORITY-POST]\",n))},e.prototype.toString=function(){return\".priority\"},e}(gt)),Dt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),xt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ot.EMPTY_NODE,this.right=null!=o?o:Ot.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ot.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ot.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error(\"Red node has red child(\"+this.key+\",\"+this.value+\")\");if(this.right.isRed_())throw new Error(\"Right child of (\"+this.key+\",\"+this.value+\") is red\");var t=this.left.check_();if(t!==this.right.check_())throw new Error(\"Black depths differ\");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),kt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new xt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ot=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error(\"Attempted to find predecessor key for a nonexistent key.  What gives?\")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Dt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Dt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new kt,t}(),Ft=Math.log(2),At=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Ft,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join(\"1\"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Lt=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,s=function(e,r){var i=o-e,s=o;o-=e;var h=function e(r,i){var o,s,a=i-r;if(0===a)return null;if(1===a)return o=t[r],s=n?n(o):o,new xt(s,o.node,xt.BLACK,null,null);var h=parseInt(a/2,10)+r,l=e(r,h),u=e(h+1,i);return o=t[h],s=n?n(o):o,new xt(s,o.node,xt.BLACK,l,u)}(i+1,s),l=t[i],u=n?n(l):l;a(new xt(u,l.node,r,null,h))},a=function(t){r?(r.left=t,r=t):(i=t,r=t)},h=0;h<e.count;++h){var l=e.nextBitIsOne(),u=Math.pow(2,e.count-(h+1));l?s(u,xt.BLACK):(s(u,xt.BLACK),s(u,xt.RED))}return i}(new At(t.length));return new Ot(r||e,i)},Mt={},Wt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,\"Default\",{get:function(){return h.assert(Mt&&Rt,\"ChildrenNode.ts has not been loaded\"),Nt=Nt||new t({\".priority\":Mt},{\".priority\":Rt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=h.safeGet(this.indexes_,t);if(!e)throw new Error(\"No index defined for \"+t);return e instanceof Ot?e:null},t.prototype.hasIndex=function(t){return h.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){h.assert(e!==Ct,\"KeyIndex always exists and isn't meant to be added to the IndexMap.\");for(var r,i=[],o=!1,s=n.getIterator(vt.Wrap),l=s.getNext();l;)o=o||e.isDefinedOn(l.node),i.push(l),l=s.getNext();r=o?Lt(i,e.getCompare()):Mt;var u=e.toString(),c=a.__assign({},this.indexSet_);c[u]=e;var p=a.__assign({},this.indexes_);return p[u]=r,new t(p,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(h.map(this.indexes_,(function(t,i){var o=h.safeGet(r.indexSet_,i);if(h.assert(o,\"Missing index implementation for \"+i),t===Mt){if(o.isDefinedOn(e.node)){for(var s=[],a=n.getIterator(vt.Wrap),l=a.getNext();l;)l.name!==e.name&&s.push(l),l=a.getNext();return s.push(e),Lt(s,o.getCompare())}return Mt}var u=n.get(e.name),c=t;return u&&(c=c.remove(new vt(e.name,u))),c.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(h.map(this.indexes_,(function(t){if(t===Mt)return t;var r=n.get(e.name);return r?t.remove(new vt(e.name,r)):t})),this.indexSet_)},t}();function qt(t,e){return x(t.name,e.name)}function Qt(t,e){return x(t,e)}var Ut=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&St(this.priorityNode_),this.children_.isEmpty()&&h.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),\"An empty node cannot have a priority\")}return Object.defineProperty(t,\"EMPTY_NODE\",{get:function(){return Pt||(Pt=new t(new Ot(Qt),null,Wt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Pt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(\".priority\"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Pt:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(h.assert(n,\"We should always be passing snapshot nodes\"),\".priority\"===e)return this.updatePriority(n);var r=new vt(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Pt:this.priorityNode_;return new t(i,s,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;h.assert(\".priority\"!==t.getFront()||1===t.getLength(),\".priority must be the last token in a path\");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Rt,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[\".priority\"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t=\"\";this.getPriority().isEmpty()||(t+=\"priority:\"+bt(this.getPriority().val())+\":\"),this.forEachChild(Rt,(function(e,n){var r=n.hash();\"\"!==r&&(t+=\":\"+e+\":\"+r)})),this.lazyHash_=\"\"===t?\"\":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new vt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new vt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new vt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,vt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,vt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Vt?-1:0},t.prototype.withIndex=function(e){if(e===Ct||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ct||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Rt),r=e.getIterator(Rt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ct?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\\d*)$/,t}(),Vt=new(function(t){function e(){return t.call(this,new Ot(Qt),Ut.EMPTY_NODE,Wt.Default)||this}return a.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ut.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ut));Object.defineProperties(vt,{MIN:{value:new vt(R,Ut.EMPTY_NODE)},MAX:{value:new vt(D,Vt)}}),mt.__EMPTY_NODE=Ut.EMPTY_NODE,It.__childrenNodeConstructor=Ut,G=Vt,function(t){Tt=t}(Vt);function Ht(t,e){if(void 0===e&&(e=null),null===t)return Ut.EMPTY_NODE;if(\"object\"==typeof t&&\".priority\"in t&&(e=t[\".priority\"]),h.assert(null===e||\"string\"==typeof e||\"number\"==typeof e||\"object\"==typeof e&&\".sv\"in e,\"Invalid priority type found: \"+typeof e),\"object\"==typeof t&&\".value\"in t&&null!==t[\".value\"]&&(t=t[\".value\"]),\"object\"!=typeof t||\".sv\"in t)return new It(t,Ht(e));if(t instanceof Array){var n=Ut.EMPTY_NODE;return L(t,(function(e,r){if(h.contains(t,e)&&\".\"!==e.substring(0,1)){var i=Ht(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Ht(e))}var r=[],i=!1;if(L(t,(function(t,e){if(\".\"!==t.substring(0,1)){var n=Ht(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new vt(t,n)))}})),0===r.length)return Ut.EMPTY_NODE;var o=Lt(r,qt,(function(t){return t.name}),Qt);if(i){var s=Lt(r,Rt.getCompare());return new Ut(o,Ht(e),new Wt({\".priority\":s},{\".priority\":Rt}))}return new Ut(o,Ht(e),Wt.Default)}!function(t){wt=t}(Ht);var jt,Bt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?x(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return vt.MIN},e.prototype.maxPost=function(){return vt.MAX},e.prototype.makePost=function(t,e){var n=Ht(t);return new vt(e,n)},e.prototype.toString=function(){return\".value\"},e}(gt)),Kt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,h.assert(!e.isEmpty()&&\".priority\"!==e.getFront(),\"Can't create PathIndex with empty path or .priority key\"),n}return a.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Ht(t),r=Ut.EMPTY_NODE.updateChild(this.indexPath_,n);return new vt(e,r)},e.prototype.maxPost=function(){var t=Ut.EMPTY_NODE.updateChild(this.indexPath_,Vt);return new vt(D,t)},e.prototype.toString=function(){return this.indexPath_.slice().join(\"/\")},e}(gt),Yt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return h.validateArgCount(\"DataSnapshot.val\",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return h.validateArgCount(\"DataSnapshot.exportVal\",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return h.validateArgCount(\"DataSnapshot.toJSON\",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return h.validateArgCount(\"DataSnapshot.exists\",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){h.validateArgCount(\"DataSnapshot.child\",0,1,arguments.length),e=String(e),lt(\"DataSnapshot.child\",1,e,!1);var n=new V(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Rt)},t.prototype.hasChild=function(t){h.validateArgCount(\"DataSnapshot.hasChild\",1,1,arguments.length),lt(\"DataSnapshot.hasChild\",1,t,!1);var e=new V(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return h.validateArgCount(\"DataSnapshot.getPriority\",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(h.validateArgCount(\"DataSnapshot.forEach\",1,1,arguments.length),h.validateCallback(\"DataSnapshot.forEach\",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Rt))}))},t.prototype.hasChildren=function(){return h.validateArgCount(\"DataSnapshot.hasChildren\",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,\"key\",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return h.validateArgCount(\"DataSnapshot.numChildren\",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return h.validateArgCount(\"DataSnapshot.ref\",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,\"ref\",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),zt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return\"value\"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+\":\"+this.eventType+\":\"+h.stringify(this.snapshot.exportVal())},t}(),Gt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return\"cancel\"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+\":cancel\"},t}(),Xt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return\"value\"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new zt(\"value\",this,new Yt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if(\"cancel\"===t.getEventType()){h.assert(this.cancelCallback_,\"Raising a cancel event on a listener with no cancel callback\");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Gt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),$t=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e=\"children_added\"===t?\"child_added\":t;return e=\"children_removed\"===e?\"child_removed\":e,h.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Gt(this,t,e):null},t.prototype.createEvent=function(t,e){h.assert(null!=t.childName,\"Child events should have a childName.\");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new zt(t.type,this,new Yt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if(\"cancel\"===t.getEventType()){h.assert(this.cancelCallback_,\"Raising a cancel event on a listener with no cancel callback\");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Jt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,\"__referenceConstructor\",{get:function(){return h.assert(jt,\"Reference.ts has not been loaded\"),jt},set:function(t){jt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ct){var r=\"Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().\",i=\"Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.\";if(t.hasStart()){if(t.getIndexStartName()!==R)throw new Error(r);if(\"string\"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==D)throw new Error(r);if(\"string\"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Rt){if(null!=e&&!nt(e)||null!=n&&!nt(n))throw new Error(\"Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).\")}else if(h.assert(t.getIndex()instanceof Kt||t.getIndex()===Bt,\"unknown index type.\"),null!=e&&\"object\"==typeof e||null!=n&&\"object\"==typeof n)throw new Error(\"Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.\")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error(\"Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.\")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+\": You can't combine multiple orderBy calls.\")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return h.validateArgCount(\"Query.ref\",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){h.validateArgCount(\"Query.on\",2,4,arguments.length),at(\"Query.on\",1,e,!1),h.validateCallback(\"Query.on\",2,n,!1);var o=t.getCancelAndContextArgs_(\"Query.on\",r,i);if(\"value\"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Xt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new $t(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){h.validateArgCount(\"Query.off\",0,3,arguments.length),at(\"Query.off\",1,t,!0),h.validateCallback(\"Query.off\",2,e,!0),h.validateContextObject(\"Query.off\",3,n,!0);var r=null,i=null;if(\"value\"===t){var o=e||null;r=new Xt(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new $t(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;h.validateArgCount(\"Query.once\",1,4,arguments.length),at(\"Query.once\",1,e,!1),h.validateCallback(\"Query.once\",2,n,!0);var s=t.getCancelAndContextArgs_(\"Query.once\",r,i),a=!0,l=new h.Deferred;l.promise.catch((function(){}));var u=function t(r){a&&(a=!1,o.off(e,t),n&&n.bind(s.context)(r),l.resolve(r))};return this.on(e,u,(function(t){o.off(e,u),s.cancel&&s.cancel.bind(s.context)(t),l.reject(t)})),l.promise},t.prototype.limitToFirst=function(e){if(h.validateArgCount(\"Query.limitToFirst\",1,1,arguments.length),\"number\"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"Query.limitToFirst: First argument must be a positive integer.\");if(this.queryParams_.hasLimit())throw new Error(\"Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(h.validateArgCount(\"Query.limitToLast\",1,1,arguments.length),\"number\"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"Query.limitToLast: First argument must be a positive integer.\");if(this.queryParams_.hasLimit())throw new Error(\"Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(h.validateArgCount(\"Query.orderByChild\",1,1,arguments.length),\"$key\"===e)throw new Error('Query.orderByChild: \"$key\" is invalid.  Use Query.orderByKey() instead.');if(\"$priority\"===e)throw new Error('Query.orderByChild: \"$priority\" is invalid.  Use Query.orderByPriority() instead.');if(\"$value\"===e)throw new Error('Query.orderByChild: \"$value\" is invalid.  Use Query.orderByValue() instead.');lt(\"Query.orderByChild\",1,e,!1),this.validateNoPreviousOrderByCall_(\"Query.orderByChild\");var n=new V(e);if(n.isEmpty())throw new Error(\"Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.\");var r=new Kt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){h.validateArgCount(\"Query.orderByKey\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByKey\");var e=this.queryParams_.orderBy(Ct);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){h.validateArgCount(\"Query.orderByPriority\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByPriority\");var e=this.queryParams_.orderBy(Rt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){h.validateArgCount(\"Query.orderByValue\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByValue\");var e=this.queryParams_.orderBy(Bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),h.validateArgCount(\"Query.startAt\",0,2,arguments.length),rt(\"Query.startAt\",1,e,this.path,!0),ht(\"Query.startAt\",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error(\"Query.startAt: Starting point was already set (by another call to startAt or equalTo).\");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),h.validateArgCount(\"Query.endAt\",0,2,arguments.length),rt(\"Query.endAt\",1,e,this.path,!0),ht(\"Query.endAt\",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error(\"Query.endAt: Ending point was already set (by another call to endAt or equalTo).\");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(h.validateArgCount(\"Query.equalTo\",1,2,arguments.length),rt(\"Query.equalTo\",1,t,this.path,!1),ht(\"Query.equalTo\",2,e,!0),this.queryParams_.hasStart())throw new Error(\"Query.equalTo: Starting point was already set (by another call to startAt or equalTo).\");if(this.queryParams_.hasEnd())throw new Error(\"Query.equalTo: Ending point was already set (by another call to endAt or equalTo).\");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return h.validateArgCount(\"Query.toString\",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return h.validateArgCount(\"Query.toJSON\",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=F(t);return\"{}\"===e?\"default\":e},t.prototype.isEqual=function(e){if(h.validateArgCount(\"Query.isEqual\",1,1,arguments.length),!(e instanceof t)){var n=\"Query.isEqual failed: First argument must be an instance of firebase.database.Query.\";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,h.validateCallback(t,3,r.cancel,!0),r.context=n,h.validateContextObject(t,4,r.context,!0);else if(e)if(\"object\"==typeof e&&null!==e)r.context=e;else{if(\"function\"!=typeof e)throw new Error(h.errorPrefix(t,3,!0)+\" must either be a cancel callback or a context object.\");r.cancel=e}return r},Object.defineProperty(t.prototype,\"ref\",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Zt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),te=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),ee=function(t,e,n){return t&&\"object\"==typeof t?(h.assert(\".sv\"in t,\"Unexpected leaf node or priority contents\"),\"string\"==typeof t[\".sv\"]?ne(t[\".sv\"],e,n):\"object\"==typeof t[\".sv\"]?re(t[\".sv\"],e):void h.assert(!1,\"Unexpected server value: \"+JSON.stringify(t,null,2))):t},ne=function(t,e,n){switch(t){case\"timestamp\":return n.timestamp;default:h.assert(!1,\"Unexpected server value: \"+t)}},re=function(t,e,n){t.hasOwnProperty(\"increment\")||h.assert(!1,\"Unexpected server value: \"+JSON.stringify(t,null,2));var r=t.increment;\"number\"!=typeof r&&h.assert(!1,\"Unexpected increment value: \"+r);var i=e.node();if(h.assert(null!=i,\"Expected ChildrenNode.EMPTY_NODE for nulls\"),!i.isLeafNode())return r;var o=i.getValue();return\"number\"!=typeof o?r:o+r},ie=function(t,e,n,r){return se(e,new te(n,t),r)},oe=function(t,e,n){return se(t,new Zt(e),n)};function se(t,e,n){var r,i=t.getPriority().val(),o=ee(i,e.getImmediateChild(\".priority\"),n);if(t.isLeafNode()){var s=t,a=ee(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new It(a,Ht(o)):t}var h=t;return r=h,o!==h.getPriority().val()&&(r=r.updatePriority(new It(o))),h.forEachChild(Rt,(function(t,i){var o=se(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var ae,he=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Rt,(function(t,e){n.remember(new V(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new V(t.toString()+\"/\"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();!function(t){t[t.OVERWRITE=0]=\"OVERWRITE\",t[t.MERGE=1]=\"MERGE\",t[t.ACK_USER_WRITE=2]=\"ACK_USER_WRITE\",t[t.LISTEN_COMPLETE=3]=\"LISTEN_COMPLETE\"}(ae||(ae={}));var le,ue,ce=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,h.assert(!r||e,\"Tagged queries must be from server.\")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),pe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ae.ACK_USER_WRITE,this.source=ce.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return h.assert(this.affectedTree.children.isEmpty(),\"affectedTree should not have overlapping affected paths.\"),this;var n=this.affectedTree.subtree(new V(e));return new t(V.Empty,n,this.revert)}return h.assert(this.path.getFront()===e,\"operationForChild called for unrelated child.\"),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),de=function(){function t(t,e){void 0===e&&(le||(le=new Ot(k)),e=le),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return L(e,(function(t,e){n=n.set(new V(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:V.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new V(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(V.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,V.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,V.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(V.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),fe=function(){function t(t,e){this.source=t,this.path=e,this.type=ae.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty):new t(this.source,this.path.popFront())},t}(),_e=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ae.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ye=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ae.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new V(e));return n.isEmpty()?null:n.value?new _e(this.source,V.Empty,n.value):new t(this.source,V.Empty,n)}return h.assert(this.path.getFront()===e,\"Can't get a merge for a child not on the path of the operation\"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" merge: \"+this.children.toString()+\")\"},t}(),ve=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ge=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ve(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ve(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ve(Ut.EMPTY_NODE,!1,!1),new ve(Ut.EMPTY_NODE,!1,!1)),t}(),me=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED=\"child_added\",t.CHILD_REMOVED=\"child_removed\",t.CHILD_CHANGED=\"child_changed\",t.CHILD_MOVED=\"child_moved\",t.VALUE=\"value\",t}(),Ce=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){h.assert(t.isIndexed(this.index_),\"A node must be indexed if only a child is updated\");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(me.childRemovedChange(e,s)):h.assert(t.isLeafNode(),\"A child remove without an old child only makes sense on a leaf node\"):s.isEmpty()?o.trackChildChange(me.childAddedChange(e,n)):o.trackChildChange(me.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Rt,(function(t,r){e.hasChild(t)||n.trackChildChange(me.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Rt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(me.childChangedChange(e,r,i))}else n.trackChildChange(me.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ut.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ee=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;h.assert(e===me.CHILD_ADDED||e===me.CHILD_CHANGED||e===me.CHILD_REMOVED,\"Only child changes supported for tracking\"),h.assert(\".priority\"!==n,\"Only non-priority child changes can be tracked.\");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===me.CHILD_ADDED&&i===me.CHILD_REMOVED)this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===me.CHILD_REMOVED&&i===me.CHILD_ADDED)this.changeMap.delete(n);else if(e===me.CHILD_REMOVED&&i===me.CHILD_CHANGED)this.changeMap.set(n,me.childRemovedChange(n,r.oldSnap));else if(e===me.CHILD_CHANGED&&i===me.CHILD_ADDED)this.changeMap.set(n,me.childAddedChange(n,t.snapshotNode));else{if(e!==me.CHILD_CHANGED||i!==me.CHILD_CHANGED)throw h.assertionError(\"Illegal combination of changes: \"+t+\" occurred after \"+r);this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),we=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Te=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ve(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),be=function(t,e){this.viewCache=t,this.changes=e},Se=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){h.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),\"Event snap not indexed\"),h.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),\"Server snap not indexed\")},t.prototype.applyOperation=function(e,n,r,i){var o,s,a=new Ee;if(n.type===ae.OVERWRITE){var l=n;l.source.fromUser?o=this.applyUserOverwrite_(e,l.path,l.snap,r,i,a):(h.assert(l.source.fromServer,\"Unknown source.\"),s=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),o=this.applyServerOverwrite_(e,l.path,l.snap,r,i,s,a))}else if(n.type===ae.MERGE){var u=n;u.source.fromUser?o=this.applyUserMerge_(e,u.path,u.children,r,i,a):(h.assert(u.source.fromServer,\"Unknown source.\"),s=u.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,u.path,u.children,r,i,s,a))}else if(n.type===ae.ACK_USER_WRITE){var c=n;o=c.revert?this.revertUserWrite_(e,c.path,r,i,a):this.ackUserWrite_(e,c.path,c.affectedTree,r,i,a)}else{if(n.type!==ae.LISTEN_COMPLETE)throw h.assertionError(\"Unknown operation type: \"+n.type);o=this.listenComplete_(e,n.path,r,a)}var p=a.getChanges();return t.maybeAddValueEvent_(e,o,p),new be(o,p)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(me.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,a=void 0;if(e.isEmpty())if(h.assert(t.getServerCache().isFullyInitialized(),\"If change path is empty, we must have complete server data\"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),u=l instanceof Ut?l:Ut.EMPTY_NODE,c=n.calcCompleteEventChildren(u);s=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var p=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),p,i)}else{var d=e.getFront();if(\".priority\"===d){h.assert(1===e.getLength(),\"Can't have a priority with additional path components\");var f=o.getNode();a=t.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(e,f,a);s=null!=_?this.filter_.updatePriority(f,_):o.getNode()}else{var y=e.popFront(),v=void 0;if(o.isCompleteForChild(d)){a=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),a);v=null!=g?o.getNode().getImmediateChild(d).updateChild(y,g):o.getNode().getImmediateChild(d)}else v=n.calcCompleteChild(d,t.getServerCache());s=null!=v?this.filter_.updateChild(o.getNode(),d,v,y,r,i):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,h=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=l.updateFullNode(h.getNode(),n,null);else if(l.filtersNodes()&&!h.isFiltered()){var u=h.getNode().updateChild(e,n);a=l.updateFullNode(h.getNode(),u,null)}else{var c=e.getFront();if(!h.isCompleteForPath(e)&&e.getLength()>1)return t;var p=e.popFront(),d=h.getNode().getImmediateChild(c).updateChild(p,n);a=\".priority\"===c?l.updatePriority(h.getNode(),d):l.updateChild(h.getNode(),c,d,p,we,null)}var f=t.updateServerSnap(a,h.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),_=new Te(r,f,i);return this.generateEventCacheAfterServerEvent_(f,e,r,_,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,h=t.getEventCache(),l=new Te(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var u=e.getFront();if(\".priority\"===u)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,h.isFullyInitialized(),h.isFiltered());else{var c=e.popFront(),p=h.getNode().getImmediateChild(u),d=void 0;if(c.isEmpty())d=n;else{var f=l.getCompleteChild(u);d=null!=f?\".priority\"===c.getBack()&&f.getChild(c.parent()).isEmpty()?f:f.updateChild(c,n):Ut.EMPTY_NODE}if(p.equals(d))s=t;else{var _=this.filter_.updateChild(h.getNode(),u,d,c,l,o);s=t.updateEventSnap(_,h.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,h=e;return r.foreach((function(r,l){var u=n.child(r);t.cacheHasChild_(e,u.getFront())&&(h=a.applyUserOverwrite_(h,u,l,i,o,s))})),r.foreach((function(r,l){var u=n.child(r);t.cacheHasChild_(e,u.getFront())||(h=a.applyUserOverwrite_(h,u,l,i,o,s))})),h},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var h,l=t;h=e.isEmpty()?n:de.Empty.setTree(e,n);var u=t.getServerCache().getNode();return h.children.inorderTraversal((function(e,n){if(u.hasChild(e)){var h=t.getServerCache().getNode().getImmediateChild(e),c=a.applyMerge_(h,n);l=a.applyServerOverwrite_(l,new V(e),c,r,i,o,s)}})),h.children.inorderTraversal((function(e,n){var h=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!u.hasChild(e)&&!h){var c=t.getServerCache().getNode().getImmediateChild(e),p=a.applyMerge_(c,n);l=a.applyServerOverwrite_(l,new V(e),p,r,i,o,s)}})),l},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var h=de.Empty;return a.getNode().forEachChild(Ct,(function(t,e){h=h.set(new V(t),e)})),this.applyServerMerge_(t,e,h,r,i,s,o)}return t}var l=de.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(l=l.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,l,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,we,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var s=new Te(n,t,r),a=t.getEventCache().getNode(),l=void 0;if(e.isEmpty()||\".priority\"===e.getFront()){var u=void 0;if(t.getServerCache().isFullyInitialized())u=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var c=t.getServerCache().getNode();h.assert(c instanceof Ut,\"serverChildren would be complete if leaf node\"),u=n.calcCompleteEventChildren(c)}u=u,l=this.filter_.updateFullNode(a,u,i)}else{var p=e.getFront(),d=n.calcCompleteChild(p,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(p)&&(d=a.getImmediateChild(p)),(l=null!=d?this.filter_.updateChild(a,p,d,e.popFront(),s,i):t.getEventCache().getNode().hasChild(p)?this.filter_.updateChild(a,p,Ut.EMPTY_NODE,e.popFront(),s,i):a).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(V.Empty),t.updateEventSnap(l,o,this.filter_.filtersNodes())},t}(),Ie=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===me.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(me.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,me.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,me.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,me.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,me.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,me.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return\"value\"===t.type||\"child_removed\"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw h.assertionError(\"Should only compare child_ events.\");var n=new vt(t.childName,t.snapshotNode),r=new vt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ne=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Ce(n.getIndex()),i=n.getNodeFilter();this.processor_=new Se(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(Ut.EMPTY_NODE,o.getNode(),null),h=i.updateFullNode(Ut.EMPTY_NODE,s.getNode(),null),l=new ve(a,o.isFullyInitialized(),r.filtersNodes()),u=new ve(h,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ge(u,l),this.eventGenerator_=new Ie(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){h.assert(null==t,\"A cancel should cancel all event registrations.\");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ae.MERGE&&null!==t.source.queryId&&(h.assert(this.viewCache_.getCompleteServerSnap(),\"We should always have a full cache before handling merges\"),h.assert(this.viewCache_.getCompleteEventSnap(),\"Missing event cache, even though we have a server cache\"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),h.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),\"Once a server snap is complete, it should never go back\"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Rt,(function(t,e){n.push(me.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(me.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Pe=function(){function t(){this.views=new Map}return Object.defineProperty(t,\"__referenceConstructor\",{get:function(){return h.assert(ue,\"Reference.ts has not been loaded\"),ue},set:function(t){h.assert(!ue,\"__referenceConstructor has already been defined\"),ue=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var s=this.views.get(o);return h.assert(null!=s,\"SyncTree gave us an op for an invalid query.\"),s.applyOperation(t,e,n)}var l=[];try{for(var u=a.__values(this.views.values()),c=u.next();!c.done;c=u.next()){s=c.value;l=l.concat(s.applyOperation(t,e,n))}}catch(p){r={error:p}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return l},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),h=!1;a?h=!0:r instanceof Ut?(a=n.calcCompleteEventChildren(r),h=!1):(a=Ut.EMPTY_NODE,h=!1);var l=new ge(new ve(a,h,!1),new ve(r,i,!1));s=new Ne(t,l),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,s=e.queryIdentifier(),h=[],l=[],u=this.hasCompleteView();if(\"default\"===s)try{for(var c=a.__values(this.views.entries()),p=c.next();!p.done;p=c.next()){var d=a.__read(p.value,2),f=d[0],_=d[1];l=l.concat(_.removeEventRegistration(n,r)),_.isEmpty()&&(this.views.delete(f),_.getQuery().getQueryParams().loadsAllData()||h.push(_.getQuery()))}}catch(y){i={error:y}}finally{try{p&&!p.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else(_=this.views.get(s))&&(l=l.concat(_.removeEventRegistration(n,r)),_.isEmpty()&&(this.views.delete(s),_.getQuery().getQueryParams().loadsAllData()||h.push(_.getQuery())));return u&&!this.hasCompleteView()&&h.push(new t.__referenceConstructor(e.repo,e.path)),{removed:h,events:l}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=a.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=a.__values(this.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r||s.getCompleteServerCache(t)}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=a.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Re=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new de(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=V.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new de(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return L(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,de.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(V.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Rt,(function(e,n){t.push(new vt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new vt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new de(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){\".priority\"===n?(h.assert(null!==o.value,\"Priority writes must always be leaf nodes\"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(\".priority\"),i)),r}(V.Empty,this.writeTree_,t)},t.Empty=new t(new de(null)),t}();var De=function(){function t(){this.visibleWrites_=Re.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new xe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){h.assert(n>this.lastWriteId_,\"Stacking an older write on top of newer ones\"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){h.assert(n>this.lastWriteId_,\"Stacking an older merge on top of newer ones\"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));h.assert(n>=0,\"removeWrite called with nonexistent writeId.\");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var a=this.allWrites_[s];a.visible&&(s>=n&&this.recordContainsPath_(a,r.path)?i=!1:r.path.contains(a.path)&&(o=!0)),s--}if(i){if(o)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):L(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(V.Empty)){var s=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);l=n||Ut.EMPTY_NODE;return s.apply(l)}return null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var h=this.visibleWrites_.childCompoundWrite(e);if(h.isEmpty())return n;if(null!=n||h.hasCompleteWrite(V.Empty)){var l=n||Ut.EMPTY_NODE;return h.apply(l)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ut.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Rt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Rt,(function(t,e){var r=i.childCompoundWrite(new V(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){h.assert(n||r,\"Either existingEventSnap or existingServerSnap must exist\");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),h=a.getCompleteNode(V.Empty);if(null!=h)s=h;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],u=o.getCompare(),c=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),p=c.getNext();p&&l.length<r;)0!==u(p,n)&&l.push(p),p=c.getNext();return l},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,V.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Re.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)n.contains(s)?(a=V.relativePath(n,s),r=r.addWrite(a,o.snap)):s.contains(n)&&(a=V.relativePath(s,n),r=r.addWrite(V.Empty,o.snap.getChild(a)));else{if(!o.children)throw h.assertionError(\"WriteRecord should have .snap or .children\");if(n.contains(s))a=V.relativePath(n,s),r=r.addWrites(a,o.children);else if(s.contains(n))if((a=V.relativePath(s,n)).isEmpty())r=r.addWrites(V.Empty,o.children);else{var l=h.safeGet(o.children,a.getFront());if(l){var u=l.getChild(a.popFront());r=r.addWrite(V.Empty,u)}}}}}return r},t}(),xe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),ke=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=de.Empty,this.pendingWriteTree_=new De,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new _e(ce.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=de.fromObject(e);return this.applyOperationToSyncPoints_(new ye(ce.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=de.Empty;return null!=n.snap?r=r.set(V.Empty,!0):L(n.children,(function(t,e){r=r.set(new V(t),e)})),this.applyOperationToSyncPoints_(new pe(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new _e(ce.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=de.fromObject(e);return this.applyOperationToSyncPoints_(new ye(ce.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new fe(ce.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,h=V.relativePath(s,e),l=new _e(ce.forServerTaggedQuery(a),h,n);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,h=V.relativePath(s,e),l=de.fromObject(n),u=new ye(ce.forServerTaggedQuery(a),h,l);return this.applyTaggedOperation_(s,u)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=V.relativePath(o,e),h=new fe(ce.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,h)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=V.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var s,a=this.syncPointTree_.get(r);(a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(V.Empty)):(a=new Pe,this.syncPointTree_=this.syncPointTree_.set(r,a)),null!=i)?s=!0:(s=!1,i=Ut.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(V.Empty);n&&(i=i.updateImmediateChild(t,n))})));var l=a.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var u=t.makeQueryKey_(e);h.assert(!this.queryToTagMap.has(u),\"View does not exist, but we have a tag\");var c=t.getNextQueryTag_();this.queryToTagMap.set(u,c),this.tagToQueryMap.set(c,u)}var p=this.pendingWriteTree_.childWrites(r),d=a.addEventRegistration(e,n,p,i,s);if(!l&&!o){var f=a.viewForQuery(e);d=d.concat(this.setupListener_(e,f))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&(\"default\"===e.queryIdentifier()||s.viewExistsForQuery(e))){var h=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=h.removed;a=h.events;var u=-1!==l.findIndex((function(t){return t.getQueryParams().loadsAllData()})),c=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(u&&!c){var p=this.syncPointTree_.subtree(o);if(!p.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(p),f=0;f<d.length;++f){var _=d[f],y=_.getQuery(),v=this.createListenerForView_(_);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),v.hashFn,v.onComplete)}}if(!c&&l.length>0&&!r)if(u){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else l.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(l)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=V.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),L(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),a=this.syncPointTree_.subtree(r);if(i)h.assert(!a.value.hasCompleteView(),\"If we're adding a query, it shouldn't be shadowed\");else for(var l=a.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),L(n,(function(t,e){r=r.concat(e)})),r})),u=0;u<l.length;++u){var c=l[u];this.listenProvider_.stopListening(t.queryForListening_(c),this.tagForQuery_(c))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ut.EMPTY_NODE).hash()},onComplete:function(t){if(\"ok\"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n=\"Unknown Error\";\"too_big\"===t?n=\"The data requested exceeds the maximum size that can be accessed with a single request.\":\"permission_denied\"===t?n=\"Client doesn't have permission to access the desired data.\":\"unavailable\"===t&&(n=\"The service is unavailable\");var r=new Error(t+\" at \"+e.path.toString()+\": \"+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+\"$\"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf(\"$\");return h.assert(-1!==e&&e<t.length-1,\"Bad queryKey.\"),{queryId:t.substr(e+1),path:new V(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);h.assert(n,\"Missing sync point for query tag that we're tracking\");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(V.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(V.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(V.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),h=e.children.get(s);if(h&&a){var l=n?n.getImmediateChild(s):null,u=r.child(s);o=o.concat(this.applyOperationHelper_(a,h,l,u))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(V.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(V.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,h=r.child(e),l=t.operationForChild(e);l&&(s=s.concat(i.applyOperationDescendantsHelper_(l,o,a,h)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Oe=function(){function t(){this.rootNode_=Ut.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Fe=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&\"auth/token-not-initialized\"===t.code?(T(\"Got auth/token-not-initialized error.  Treating as null token.\"),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named \"'+this.app_.name+'\" are invalid. This usually indicates your app was not initialized correctly. ';\"credential\"in this.app_.options?t+='Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':\"serviceAccount\"in this.app_.options?t+='Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':t+='Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',N(t)},t}(),Ae=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),h.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return h.deepCopy(this.counters_)},t}(),Le=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ae),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Me=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=a.__assign({},t);return this.last_&&L(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),We=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Me(t);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;L(e,(function(e,i){i>0&&h.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),qe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Qe(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Qe=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();C&&T(\"event: \"+e.toString()),Q(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Ue=function(){function t(t){this.allowedEvents_=t,this.listeners_={},h.assert(Array.isArray(t)&&t.length>0,\"Requires a non-empty array\")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=a.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){h.assert(this.allowedEvents_.find((function(e){return e===t})),\"Unknown event: \"+t)},t}(),Ve=function(t){function e(){var e,n,r=t.call(this,[\"visible\"])||this;return\"undefined\"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n=\"visibilitychange\",e=\"hidden\"):void 0!==document.mozHidden?(n=\"mozvisibilitychange\",e=\"mozHidden\"):void 0!==document.msHidden?(n=\"msvisibilitychange\",e=\"msHidden\"):void 0!==document.webkitHidden&&(n=\"webkitvisibilitychange\",e=\"webkitHidden\")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger(\"visible\",t))}),!1),r}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return h.assert(\"visible\"===t,\"Unknown event type: \"+t),[this.visible_]},e}(Ue),He=function(t){function e(){var e=t.call(this,[\"online\"])||this;return e.online_=!0,\"undefined\"==typeof window||void 0===window.addEventListener||h.isMobileCordova()||(window.addEventListener(\"online\",(function(){e.online_||(e.online_=!0,e.trigger(\"online\",!0))}),!1),window.addEventListener(\"offline\",(function(){e.online_&&(e.online_=!1,e.trigger(\"online\",!1))}),!1)),e}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return h.assert(\"online\"===t,\"Unknown event type: \"+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ue),je=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Q((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),\"break\";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if(\"break\"===r())break}},t}(),Be=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=b(t),this.stats_=Le.getCollection(e),this.urlFn=function(t){return e.connectionURL(\"long_polling\",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new je(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_(\"Timed out trying to connect.\"),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(h.isNodeSdk()||\"complete\"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener(\"DOMContentLoaded\",n,!1),window.addEventListener(\"load\",n,!1)):document.attachEvent&&(document.attachEvent(\"onreadystatechange\",(function(){\"complete\"===document.readyState&&n()})),window.attachEvent(\"onload\",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ke((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,\"start\"===i)n.id=o,n.password=s;else{if(\"close\"!==i)throw new Error(\"Unrecognized command received: \"+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:\"t\"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v=\"5\",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),\"undefined\"!=typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(t.r=\"f\");var e=n.urlFn(t);n.log_(\"Connecting via long-poll to \"+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!h.isNodeSdk()&&(!!t.forceAllow_||!(t.forceDisallow_||\"undefined\"==typeof document||null==document.createElement||\"object\"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||\"object\"==typeof Windows&&\"object\"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"Longpoll is closing itself\"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_(\"Longpoll is being closed.\"),this.shutdown_())},t.prototype.send=function(t){var e=h.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);for(var n=h.base64Encode(e),r=A(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!h.isNodeSdk()){this.myDisconnFrame=document.createElement(\"iframe\");var n={dframe:\"t\"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display=\"none\",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=h.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter(\"bytes_received\",e)},t}(),Ke=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,h.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window[\"pLPCommand\"+this.uniqueCallbackIdentifier]=e,window[\"pRTLPCB\"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o=\"\";if(this.myIFrame.src&&\"javascript:\"===this.myIFrame.src.substr(0,\"javascript:\".length))o='<script>document.domain=\"'+document.domain+'\";<\\/script>';var s=\"<html><body>\"+o+\"</body></html>\";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){T(\"frame writing exception\"),a.stack&&T(a.stack),T(a)}}}return t.createIFrame_=function(){var t=document.createElement(\"iframe\");if(t.style.display=\"none\",!document.body)throw\"Document body has not initialized. Wait to initialize Firebase until after the document is ready.\";document.body.appendChild(t);try{t.contentWindow.document||T(\"No IE domain setting required\")}catch(n){var e=document.domain;t.src=\"javascript:void((function(){document.open();document.domain='\"+e+\"';document.close();})())\"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML=\"\",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n=\"\",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+\"&seg\"+r+\"=\"+i.seg+\"&ts\"+r+\"=\"+i.ts+\"&d\"+r+\"=\"+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;h.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement(\"script\");r.type=\"text/javascript\",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&\"loaded\"!==t&&\"complete\"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){T(\"Long-poll script failed to load: \"+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Ye=\"\";var ze=null;\"undefined\"!=typeof MozWebSocket?ze=MozWebSocket:\"undefined\"!=typeof WebSocket&&(ze=WebSocket);var Ge=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=b(this.connId),this.stats_=Le.getCollection(n),this.connURL=t.connectionURL_(n,i,o)}return t.connectionURL_=function(t,e,n){var r={v:\"5\"};return!h.isNodeSdk()&&\"undefined\"!=typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(r.r=\"f\"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(\"websocket\",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_(\"Websocket connecting to \"+this.connURL),this.everConnected_=!1,f.set(\"previous_websocket_failure\",!0);try{if(h.isNodeSdk()){var i=h.CONSTANTS.NODE_ADMIN?\"AdminNode\":\"Node\",o={headers:{\"User-Agent\":\"Firebase/5/\"+Ye+\"/\"+r.platform+\"/\"+i,\"X-Firebase-GMPID\":this.applicationId||\"\"}},s={},a=0===this.connURL.indexOf(\"wss://\")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(o.proxy={origin:a}),this.mySock=new ze(this.connURL,[],o)}else{o={headers:{\"X-Firebase-GMPID\":this.applicationId||\"\"}};this.mySock=new ze(this.connURL,[],o)}}catch(u){this.log_(\"Error instantiating WebSocket.\");var l=u.message||u.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_(\"Websocket connected.\"),n.everConnected_=!0},this.mySock.onclose=function(){n.log_(\"Websocket connection was disconnected.\"),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_(\"WebSocket error.  Closing connection.\");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(\"undefined\"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ze&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get(\"previous_websocket_failure\")},t.prototype.markConnectionHealthy=function(){f.remove(\"previous_websocket_failure\")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join(\"\");this.frames=null;var n=h.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(h.assert(null===this.frames,\"We already have a frame buffer\"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter(\"bytes_received\",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=h.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);var n=A(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"WebSocket is closing itself\"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_(\"WebSocket is being closed\"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_(\"0\"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_(\"Exception thrown from WebSocket.send():\",e.message||e.data,\"Closing connection.\"),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Xe=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,\"ALL_TRANSPORTS\",{get:function(){return[Be,Ge]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Ge&&Ge.isAvailable(),o=i&&!Ge.previouslyFailed();if(e.webSocketOnly&&(i||N(\"wss:// URL used, but browser isn't known to support websockets.  Trying anyway.\"),o=!0),o)this.transports_=[Ge];else{var s=this.transports_=[];try{for(var h=a.__values(t.ALL_TRANSPORTS),l=h.next();!l.done;l=h.next()){var u=l.value;u&&u.isAvailable()&&s.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error(\"No transports available\")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),$e=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=b(\"c:\"+this.id+\":\"),this.transportManager_=new Xe(e),this.log_(\"Connection created\"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=U((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_(\"Connection exceeded healthy timeout but has received \"+t.conn_.bytesReceived+\" bytes.  Marking connection healthy.\"),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_(\"Connection exceeded healthy timeout but has sent \"+t.conn_.bytesSent+\" bytes.  Leaving connection alive.\"):(t.log_(\"Closing unhealthy connection after timeout.\"),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return\"c:\"+this.id+\":\"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_(\"Secondary connection lost.\"),e.onSecondaryConnectionLost_()):e.log_(\"closing an old connection\")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_(\"message on old connection\"))}},t.prototype.sendRequest=function(t){var e={t:\"d\",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_(\"cleaning up and promoting a connection: \"+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if(\"t\"in t){var e=t.t;\"a\"===e?this.upgradeIfSecondaryHealthy_():\"r\"===e?(this.log_(\"Got a reset on secondary, closing it\"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):\"o\"===e&&(this.log_(\"got pong on secondary.\"),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=O(\"t\",t),n=O(\"d\",t);if(\"c\"===e)this.onSecondaryControl_(n);else{if(\"d\"!==e)throw new Error(\"Unknown protocol layer: \"+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_(\"Secondary connection is healthy.\"),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_(\"sending ping on secondary.\"),this.secondaryConn_.send({t:\"c\",d:{t:\"p\",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_(\"sending client ack on secondary\"),this.secondaryConn_.send({t:\"c\",d:{t:\"a\",d:{}}}),this.log_(\"Ending transmission on primary\"),this.conn_.send({t:\"c\",d:{t:\"n\",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=O(\"t\",t),n=O(\"d\",t);\"c\"===e?this.onControl_(n):\"d\"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=O(\"t\",t);if(\"d\"in t){var n=t.d;if(\"h\"===e)this.onHandshake_(n);else if(\"n\"===e){this.log_(\"recvd end transmission on primary\"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else\"s\"===e?this.onConnectionShutdown_(n):\"r\"===e?this.onReset_(n):\"e\"===e?S(\"Server Error: \"+n):\"o\"===e?(this.log_(\"got pong on primary.\"),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S(\"Unknown control packet command: \"+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),\"5\"!==n&&N(\"Protocol version mismatch detected\"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U((function(){e.secondaryConn_&&(e.log_(\"Timed out trying to upgrade.\"),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_(\"Reset packet received.  New host: \"+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_(\"Realtime connection established.\"),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_(\"sending ping on primary.\"),this.sendData_({t:\"c\",d:{t:\"p\",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_(\"Realtime connection lost.\"):(this.log_(\"Realtime connection failed.\"),this.repoInfo_.isCacheableHost()&&(f.remove(\"host:\"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_(\"Connection shutdown command received. Shutting down...\"),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw\"Connection is not connected\";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_(\"Closing realtime connection.\"),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_(\"Shutting down all connections\"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Je=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ze=function(t){function e(n,r,i,o,s,a,l){var u=t.call(this)||this;if(u.repoInfo_=n,u.applicationId_=r,u.onDataUpdate_=i,u.onConnectStatus_=o,u.onServerInfoUpdate_=s,u.authTokenProvider_=a,u.authOverride_=l,u.id=e.nextPersistentConnectionId_++,u.log_=b(\"p:\"+u.id+\":\"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=1e3,u.maxReconnectDelay_=3e5,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,l&&!h.isNodeSdk())throw new Error(\"Auth override specified in options, but not supported on non Node.js platforms\");return u.scheduleConnect_(0),Ve.getInstance().on(\"visible\",u.onVisible_,u),-1===n.host.indexOf(\"fblocal\")&&He.getInstance().on(\"online\",u.onOnline_,u),u}return a.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(h.stringify(i)),h.assert(this.connected_,\"sendRequest call when we're not connected not allowed.\"),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_(\"Listen called for \"+o+\" \"+i),this.listens.has(o)||this.listens.set(o,new Map),h.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),\"listen() called for non-default but complete query\"),h.assert(!this.listens.get(o).has(i),\"listen() called twice for same path/queryId.\");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_(\"Listen on \"+i+\" for \"+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest(\"q\",s,(function(s){var a=s.d,h=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_(\"listen response\",s),\"ok\"!==h&&n.removeListen_(i,o),t.onComplete&&t.onComplete(h,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&\"object\"==typeof t&&h.contains(t,\"w\")){var n=h.safeGet(t,\"w\");if(Array.isArray(n)&&~n.indexOf(\"no_index\")){var r='\".indexOn\": \"'+e.getQueryParams().getIndex().toString()+'\"',i=e.path.toString();N(\"Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding \"+r+\" at \"+i+\" to your security rules for better performance.\")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_(\"Auth token refreshed\"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest(\"unauth\",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||h.isAdmin(t))&&(this.log_(\"Admin auth credential detected.  Reducing max reconnect time.\"),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=h.isValidFormat(e)?\"auth\":\"gauth\",r={cred:e};null===this.authOverride_?r.noauth=!0:\"object\"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||\"error\";t.authToken_===e&&(\"ok\"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_(\"Unlisten called for \"+n+\" \"+r),h.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),\"unlisten() called for non-default but complete query\"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_(\"Unlisten on \"+t+\" for \"+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest(\"n\",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_(\"o\",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:\"o\",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_(\"om\",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:\"om\",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_(\"oc\",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:\"oc\",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_(\"onDisconnect \"+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal(\"p\",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal(\"m\",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_(\"Buffering put: \"+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+\" response\",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_(\"reportStats\",n),this.sendRequest(\"s\",n,(function(t){if(\"ok\"!==t.s){var n=t.d;e.log_(\"reportStats\",\"Error sending stats: \"+n)}}))}},e.prototype.onDataMessage_=function(t){if(\"r\"in t){this.log_(\"from server: \"+h.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if(\"error\"in t)throw\"A server-side error has occurred: \"+t.error;\"a\"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_(\"handleServerMessage\",t,e),\"d\"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):\"m\"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):\"c\"===t?this.onListenRevoked_(e.p,e.q):\"ac\"===t?this.onAuthRevoked_(e.s,e.d):\"sd\"===t?this.onSecurityDebugPacket_(e):S(\"Unrecognized action received from server: \"+h.stringify(t)+\"\\nAre you using the latest client?\")},e.prototype.onReady_=function(t,e){this.log_(\"connection ready\"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;h.assert(!this.realtime_,\"Scheduling a connect when we're already connected/ing?\"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_(\"Window became visible.  Reducing delay.\"),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_(\"Browser went online.\"),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_(\"Browser went offline.  Killing connection.\"),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_(\"data client disconnected\"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_(\"Window isn't visible.  Delaying reconnect.\"),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_(\"Trying to reconnect in \"+e+\"ms\"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_(\"Making a connection attempt\"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+\":\"+e.nextConnectionId_++,o=this,s=this.lastSessionId,a=!1,l=null,u=function(){l?l.close():(a=!0,r())};this.realtime_={close:u,sendRequest:function(t){h.assert(l,\"sendRequest call when we're not connected not allowed.\"),l.sendRequest(t)}};var c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then((function(e){a?T(\"getToken() completed but was canceled\"):(T(\"getToken() completed. Creating connection.\"),o.authToken_=e&&e.accessToken,l=new $e(i,o.repoInfo_,o.applicationId_,t,n,r,(function(t){N(t+\" (\"+o.repoInfo_.toString()+\")\"),o.interrupt(\"server_kill\")}),s))})).then(null,(function(t){o.log_(\"Failed to get token: \"+t),a||(h.CONSTANTS.NODE_ADMIN&&N(t),u())}))}},e.prototype.interrupt=function(t){T(\"Interrupting connection for reason: \"+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){T(\"Resuming connection for reason: \"+t),delete this.interruptReasons_[t],h.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&\"h\"in e.request&&e.queued&&(e.onComplete&&e.onComplete(\"disconnect\"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return F(t)})).join(\"$\"):\"default\";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete(\"permission_denied\")},e.prototype.removeListen_=function(t,e){var n,r=new V(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){T(\"Auth token revoked: \"+t+\"/\"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),\"invalid_token\"!==t&&\"permission_denied\"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):\"msg\"in t&&console.log(\"FIREBASE: \"+t.msg.replace(\"\\n\",\"\\nFIREBASE: \"))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=a.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var h=(n=void 0,a.__values(s.values())),l=h.next();!l.done;l=h.next()){var u=l.value;this.sendListen_(u)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var p=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(p.action,p.pathString,p.data,p.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e=\"js\";h.CONSTANTS.NODE_ADMIN?e=\"admin_node\":h.CONSTANTS.NODE_CLIENT&&(e=\"node\"),t[\"sdk.\"+e+\".\"+Ye.replace(/\\./g,\"-\")]=1,h.isMobileCordova()?t[\"framework.cordova\"]=1:h.isReactNative()&&(t[\"framework.reactnative\"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=He.getInstance().currentlyOnline();return h.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Je),tn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=b(\"p:rest:\"),i.listens_={},i}return a.__extends(e,t),e.prototype.reportStats=function(t){throw new Error(\"Method not implemented.\")},e.getListenId_=function(t,e){return void 0!==e?\"tag$\"+e:(h.assert(t.getQueryParams().isDefault(),\"should have a tag if it's not a default query.\"),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t.path.toString();this.log_(\"Listen called for \"+s+\" \"+t.queryIdentifier());var a=e.getListenId_(t,r),l={};this.listens_[a]=l;var u=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+\".json\",u,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),h.safeGet(o.listens_,a)===l)&&i(t?401===t?\"permission_denied\":\"rest_error:\"+t:\"ok\",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format=\"export\",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var s=(r.repoInfo_.secure?\"https://\":\"http://\")+r.repoInfo_.host+t+\"?ns=\"+r.repoInfo_.namespace+h.querystring(e);r.log_(\"Sending REST request for \"+s);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_(\"REST Response for \"+s+\" received. status:\",a.status,\"response:\",a.responseText);var t=null;if(a.status>=200&&a.status<300){try{t=h.jsonEval(a.responseText)}catch(e){N(\"Failed to parse JSON response for \"+s+\": \"+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&N(\"Got unsuccessful REST response for \"+s+\" Status: \"+a.status),n(a.status);n=null}},a.open(\"GET\",s,!0),a.send()}))},e}(Je),en=function(){function t(t,e,n,r){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new he,this.persistentConnection_=null;var o=new Fe(n,r);if(this.stats_=Le.getCollection(t),e||(\"object\"==typeof window&&window.navigator&&window.navigator.userAgent||\"\").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new tn(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=n.options.databaseAuthVariableOverride;if(null!=s){if(\"object\"!=typeof s)throw new Error(\"Only objects are supported for option databaseAuthVariableOverride\");try{h.stringify(s)}catch(a){throw new Error(\"Invalid authOverride provided: \"+a)}}this.persistentConnection_=new Ze(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,s),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Le.getOrCreateReporter(t,(function(){return new We(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Oe,this.infoSyncTree_=new ke({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){r(\"ok\")}),0)),o},stopListening:function(){}}),this.updateInfo_(\"connected\",!1),this.serverSyncTree_=new ke({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?\"https://\":\"http://\")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new V(\".info/serverTimeOffset\")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new V(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var s=h.map(e,(function(t){return Ht(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var a=Ht(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,a,r)}else if(n){var l=h.map(e,(function(t){return Ht(t)}));o=this.serverSyncTree_.applyServerMerge(i,l)}else{var u=Ht(e);o=this.serverSyncTree_.applyServerOverwrite(i,u)}var c=i;o.length>0&&(c=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(c,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_(\"connected\",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;L(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new V(\"/.info/\"+t),r=Ht(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_(\"set\",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=Ht(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),h=oe(s,a,o),l=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserOverwrite(t,h,l,!0);this.eventQueue_.queueEvents(u),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o=\"ok\"===e;o||N(\"set at \"+t+\" failed: \"+e);var s=i.serverSyncTree_.ackUserWrite(l,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var c=this.abortTransactions_(t);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},t.prototype.update=function(t,e,n){var r=this;this.log_(\"update\",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(L(e,(function(e,n){i=!1,s[e]=ie(t.child(e),Ht(n),r.serverSyncTree_,o)})),i)T(\"update() called with empty data.  Don't do anything.\"),this.callOnCompleteCallback(n,\"ok\");else{var a=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(h),this.server_.merge(t.toString(),e,(function(e,i){var o=\"ok\"===e;o||N(\"update at \"+t+\" failed: \"+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),h=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(h,s),r.callOnCompleteCallback(n,e,i)})),L(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_(\"onDisconnectEvents\");var e=this.generateServerValues(),n=new he;this.onDisconnect_.forEachTree(V.Empty,(function(r,i){var o=ie(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(V.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new he,this.eventQueue_.raiseEventsForChangedPath(V.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){\"ok\"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Ht(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){\"ok\"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Ht(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){\"ok\"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(h.isEmpty(e))return T(\"onDisconnect().update() called with empty data.  Don't do anything.\"),void this.callOnCompleteCallback(n,\"ok\");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){\"ok\"===i&&L(e,(function(e,n){var i=Ht(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=\".info\"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=\".info\"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(\"repo_interrupt\")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(\"repo_interrupt\")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),\"undefined\"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Me(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);L(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=\" \";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"\";this.persistentConnection_&&(n=this.persistentConnection_.id+\":\"),T.apply(void 0,a.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Q((function(){if(\"ok\"===e)t(null);else{var r=(e||\"error\").toUpperCase(),i=r;n&&(i+=\": \"+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,\"database\",{get:function(){return this.__database||(this.__database=new pn(this))},enumerable:!0,configurable:!0}),t}(),nn=function(){function t(e){this.indexedFilter_=new Ce(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new vt(e,n))||(n=Ut.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ut.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Ut.EMPTY_NODE);var i=this;return e.forEachChild(Rt,(function(t,e){i.matches(new vt(t,e))||(r=r.updateImmediateChild(t,Ut.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),rn=function(){function t(t){this.rangedFilter_=new nn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new vt(e,n))||(n=Ut.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Ut.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Ut.EMPTY_NODE);var a=void 0,h=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();l=function(t,e){return u(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var c=!1;i.hasNext();){s=i.getNext();!c&&l(a,s)<=0&&(c=!0),c&&o<this.limit_&&l(s,h)<=0?o++:r=r.updateImmediateChild(s.name,Ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var a=t;h.assert(a.numChildren()===this.limit_,\"\");var l=new vt(e,n),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(e)){for(var p=a.getImmediateChild(e),d=r.getChildAfterChild(this.index_,u,this.reverse_);null!=d&&(d.name===e||a.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:o(d,l);if(c&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(me.childChangedChange(e,n,p)),a.updateImmediateChild(e,n);null!=i&&i.trackChildChange(me.childRemovedChange(e,p));var _=a.updateImmediateChild(e,Ut.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(me.childAddedChange(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}return n.isEmpty()?t:c&&o(u,l)>=0?(null!=i&&(i.trackChildChange(me.childRemovedChange(u.name,u.node)),i.trackChildChange(me.childAddedChange(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(u.name,Ut.EMPTY_NODE)):t},t}(),on=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_=\"\",this.indexStartValue_=null,this.indexStartName_=\"\",this.indexEndValue_=null,this.indexEndName_=\"\",this.index_=Rt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return\"\"===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return h.assert(this.startSet_,\"Only valid if start has been set\"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return h.assert(this.startSet_,\"Only valid if start has been set\"),this.startNameSet_?this.indexStartName_:R},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return h.assert(this.endSet_,\"Only valid if end has been set\"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return h.assert(this.endSet_,\"Only valid if end has been set\"),this.endNameSet_?this.indexEndName_:D},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&\"\"!==this.viewFrom_},t.prototype.getLimit=function(){return h.assert(this.limitSet_,\"Only valid if limit has been set\"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=\"\",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=\"\"),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=\"\"),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;\"\"===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Rt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Rt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Ce(this.getIndex()):this.hasLimit()?new rn(this):new nn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Rt?e=n.PRIORITY_INDEX:this.index_===Bt?e=n.VALUE_INDEX:this.index_===Ct?e=n.KEY_INDEX:(h.assert(this.index_ instanceof Kt,\"Unrecognized index type!\"),e=this.index_.toString()),r[n.ORDER_BY]=h.stringify(e),this.startSet_&&(r[n.START_AT]=h.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=\",\"+h.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=h.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=\",\"+h.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:\"sp\",INDEX_START_NAME:\"sn\",INDEX_END_VALUE:\"ep\",INDEX_END_NAME:\"en\",LIMIT:\"l\",VIEW_FROM:\"vf\",VIEW_FROM_LEFT:\"l\",VIEW_FROM_RIGHT:\"r\",INDEX:\"i\"},t.REST_QUERY_CONSTANTS_={ORDER_BY:\"orderBy\",PRIORITY_INDEX:\"$priority\",VALUE_INDEX:\"$value\",KEY_INDEX:\"$key\",START_AT:\"startAt\",END_AT:\"endAt\",LIMIT_TO_FIRST:\"limitToFirst\",LIMIT_TO_LAST:\"limitToLast\"},t.DEFAULT=new t,t}(),sn=function(t){function e(e,n){if(!(e instanceof en))throw new Error(\"new Reference() no longer supported - use app.database().\");return t.call(this,e,n,on.DEFAULT,!1)||this}return a.__extends(e,t),e.prototype.getKey=function(){return h.validateArgCount(\"Reference.key\",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return h.validateArgCount(\"Reference.child\",1,1,arguments.length),\"number\"==typeof t?t=String(t):t instanceof V||(null===this.path.getFront()?ut(\"Reference.child\",1,t,!1):lt(\"Reference.child\",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){h.validateArgCount(\"Reference.parent\",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){h.validateArgCount(\"Reference.root\",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){h.validateArgCount(\"Reference.set\",1,2,arguments.length),ct(\"Reference.set\",this.path),rt(\"Reference.set\",1,t,this.path,!1),h.validateCallback(\"Reference.set\",2,e,!0);var n=new h.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(h.validateArgCount(\"Reference.update\",1,2,arguments.length),ct(\"Reference.update\",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[\"\"+r]=t[r];t=n,N(\"Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}ot(\"Reference.update\",1,t,this.path,!1),h.validateCallback(\"Reference.update\",2,e,!0);var i=new h.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(h.validateArgCount(\"Reference.setWithPriority\",2,3,arguments.length),ct(\"Reference.setWithPriority\",this.path),rt(\"Reference.setWithPriority\",1,t,this.path,!1),st(\"Reference.setWithPriority\",2,e,!1),h.validateCallback(\"Reference.setWithPriority\",3,n,!0),\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Reference.setWithPriority failed: \"+this.getKey()+\" is a read-only object.\";var r=new h.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return h.validateArgCount(\"Reference.remove\",0,1,arguments.length),ct(\"Reference.remove\",this.path),h.validateCallback(\"Reference.remove\",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(h.validateArgCount(\"Reference.transaction\",1,3,arguments.length),ct(\"Reference.transaction\",this.path),h.validateCallback(\"Reference.transaction\",1,t,!1),h.validateCallback(\"Reference.transaction\",2,e,!0),dt(\"Reference.transaction\",3,n,!0),\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Reference.transaction failed: \"+this.getKey()+\" is a read-only object.\";void 0===n&&(n=!0);var r=new h.Deferred;\"function\"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new _t(n,i)),\"function\"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){h.validateArgCount(\"Reference.setPriority\",1,2,arguments.length),ct(\"Reference.setPriority\",this.path),st(\"Reference.setPriority\",1,t,!1),h.validateCallback(\"Reference.setPriority\",2,e,!0);var n=new h.Deferred;return this.repo.setWithPriority(this.path.child(\".priority\"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){h.validateArgCount(\"Reference.push\",0,2,arguments.length),ct(\"Reference.push\",this.path),rt(\"Reference.push\",1,t,this.path,!0),h.validateCallback(\"Reference.push\",2,e,!0);var n,r=this.repo.serverTime(),i=yt(r),o=this.child(i),s=this.child(i);return n=null!=t?o.set(t,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),\"function\"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return ct(\"Reference.onDisconnect\",this.path),new ft(this.repo,this.path)},Object.defineProperty(e.prototype,\"database\",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"key\",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"root\",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Jt);Jt.__referenceConstructor=sn,Pe.__referenceConstructor=sn;var an,hn=function(){this.children={},this.childCount=0,this.value=null},ln=function(){function t(t,e,n){void 0===t&&(t=\"\"),void 0===e&&(e=null),void 0===n&&(n=new hn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof V?e:new V(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,h.safeGet(r.node_.children,i)||new hn),i=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){h.assert(void 0!==t,\"Cannot set value to undefined\"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;L(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new V(null===this.parent_?this.name_:this.parent_.path()+\"/\"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=h.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]=\"RUN\",t[t.SENT=1]=\"SENT\",t[t.COMPLETED=2]=\"COMPLETED\",t[t.SENT_NEEDS_ABORT=3]=\"SENT_NEEDS_ABORT\",t[t.NEEDS_ABORT=4]=\"NEEDS_ABORT\"}(an||(an={})),en.MAX_TRANSACTION_RETRIES_=25,en.prototype.transactionsInit_=function(){this.transactionQueueTree_=new ln},en.prototype.startTransaction=function(t,e,n,r){this.log_(\"transaction on \"+t);var i=function(){},o=new sn(this,t);o.on(\"value\",i);var s={path:t,update:e,onComplete:n,status:null,order:v(),applyLocally:r,retryCount:0,unwatcher:function(){o.off(\"value\",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=this.getLatestState_(t);s.currentInputSnapshot=a;var l=s.update(a.val());if(void 0===l){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var u=new Yt(s.currentInputSnapshot,new sn(this,s.path),Rt);s.onComplete(null,!1,u)}}else{it(\"transaction failed: Data returned \",l,s.path),s.status=an.RUN;var c=this.transactionQueueTree_.subTree(t),p=c.getValue()||[];p.push(s),c.setValue(p);var d=void 0;if(\"object\"==typeof l&&null!==l&&h.contains(l,\".priority\"))d=h.safeGet(l,\".priority\"),h.assert(nt(d),\"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.\");else d=(this.serverSyncTree_.calcCompleteEventCache(t)||Ut.EMPTY_NODE).getPriority().val();d=d;var f=this.generateServerValues(),_=Ht(l,d),y=oe(_,a,f);s.currentOutputSnapshotRaw=_,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(t,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,g),this.sendReadyTransactions_()}},en.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ut.EMPTY_NODE},en.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);h.assert(n.length>0,\"Sending zero length transaction queue\"),n.every((function(t){return t.status===an.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},en.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,s=i.hash(),a=0;a<e.length;a++){var l=e[a];h.assert(l.status===an.RUN,\"tryToSendTransactionQueue_: items in queue should all be run.\"),l.status=an.SENT,l.retryCount++;var u=V.relativePath(t,l.path);o=o.updateChild(u,l.currentOutputSnapshotRaw)}var c=o.val(!0),p=t;this.server_.put(p.toString(),c,(function(r){n.log_(\"transaction put response\",{path:p.toString(),status:r});var i=[];if(\"ok\"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=an.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,h=new sn(n,e[s].path),l=new Yt(a,h,Rt);o.push(e[s].onComplete.bind(null,null,!0,l))}e[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(s=0;s<o.length;s++)Q(o[s])}else{if(\"datastale\"===r)for(s=0;s<e.length;s++)e[s].status===an.SENT_NEEDS_ABORT?e[s].status=an.NEEDS_ABORT:e[s].status=an.RUN;else{N(\"transaction at \"+p.toString()+\" failed: \"+r);for(s=0;s<e.length;s++)e[s].status=an.NEEDS_ABORT,e[s].abortReason=r}n.rerunTransactions_(t)}}),s)},en.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},en.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter((function(t){return t.status===an.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var a=t[s],l=V.relativePath(e,a.path),u=!1,c=void 0;if(h.assert(null!==l,\"rerunTransactionsUnderNode_: relativePath should not be null.\"),a.status===an.NEEDS_ABORT)u=!0,c=a.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===an.RUN)if(a.retryCount>=en.MAX_TRANSACTION_RETRIES_)u=!0,c=\"maxretry\",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var p=this.getLatestState_(a.path,o);a.currentInputSnapshot=p;var d=t[s].update(p.val());if(void 0!==d){it(\"transaction failed: Data returned \",d,a.path);var f=Ht(d);\"object\"==typeof d&&null!=d&&h.contains(d,\".priority\")||(f=f.updatePriority(p.getPriority()));var _=a.currentWriteId,y=this.generateServerValues(),v=oe(f,p,y);a.currentOutputSnapshotRaw=f,a.currentOutputSnapshotResolved=v,a.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(_),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(a.path,v,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(_,!0))}else u=!0,c=\"nodata\",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],u&&(t[s].status=an.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if(\"nodata\"===c){var g=new sn(this,t[s].path),m=t[s].currentInputSnapshot,C=new Yt(m,g,Rt);r.push(t[s].onComplete.bind(null,null,!1,C))}else r.push(t[s].onComplete.bind(null,new Error(c),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<r.length;s++)Q(r[s]);this.sendReadyTransactions_()}},en.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},en.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},en.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},en.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==an.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},en.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},en.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===an.SENT_NEEDS_ABORT);else if(e[o].status===an.SENT)h.assert(i===o-1,\"All SENT items should be at beginning of queue.\"),i=o,e[o].status=an.SENT_NEEDS_ABORT,e[o].abortReason=\"set\";else if(h.assert(e[o].status===an.RUN,\"Unexpected transaction status in abort\"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error(\"set\"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(o=0;o<n.length;o++)Q(n[o])}};var un,cn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return un||(un=new t),un},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=a.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var h=(n=void 0,a.__values(Object.keys(this.repos_[s]))),l=h.next();!l.done;l=h.next()){var u=l.value;this.repos_[s][u].interrupt()}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=a.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var h=(n=void 0,a.__values(Object.keys(this.repos_[s]))),l=h.next();!l.done;l=h.next()){var u=l.value;this.repos_[s][u].resume()}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var i=n||t.options.databaseURL;void 0===i&&I(\"Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().\");var o=X(i),s=o.repoInfo,a=void 0;return void 0!==r&&(a={}.FIREBASE_DATABASE_EMULATOR_HOST),a&&(i=\"http://\"+a+\"?ns=\"+s.namespace,s=(o=X(i)).repoInfo),pt(\"Invalid Firebase Database URL\",1,o),o.path.isEmpty()||I(\"Database URL must point to the root of a Firebase Database (not including a child path).\"),this.createRepo(s,t,e).database},t.prototype.deleteRepo=function(t){var e=h.safeGet(this.repos_,t.app.name);e&&h.safeGet(e,t.repoInfo_.toURLString())===t||I(\"Database \"+t.app.name+\"(\"+t.repoInfo_+\") has already been deleted.\"),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=h.safeGet(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=h.safeGet(r,t.toURLString());return i&&I(\"Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.\"),i=new en(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),pn=function(){function t(t){this.repo_=t,t instanceof en||I(\"Don't call new Database() directly - please use firebase.database().\"),this.root_=new sn(t,V.Empty),this.INTERNAL=new dn(this)}return Object.defineProperty(t.prototype,\"app\",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_(\"ref\"),h.validateArgCount(\"database.ref\",0,1,arguments.length),t instanceof sn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e=\"database.refFromURL\";this.checkDeleted_(e),h.validateArgCount(e,1,1,arguments.length);var n=X(t);pt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&I(e+\": Host name does not match the current database: (found \"+r.host+\" but expected \"+this.repo_.repoInfo_.host+\")\"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&I(\"Cannot call \"+t+\" on a deleted database.\")},t.prototype.goOffline=function(){h.validateArgCount(\"database.goOffline\",0,0,arguments.length),this.checkDeleted_(\"goOffline\"),this.repo_.interrupt()},t.prototype.goOnline=function(){h.validateArgCount(\"database.goOnline\",0,0,arguments.length),this.checkDeleted_(\"goOnline\"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{\".sv\":\"timestamp\"},increment:function(t){return{\".sv\":{increment:t}}}},t}(),dn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.database.checkDeleted_(\"delete\"),cn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),fn=Object.freeze({__proto__:null,forceLongPolling:function(){Ge.forceDisallow(),Be.forceAllow()},forceWebSockets:function(){Be.forceDisallow()},isWebSocketsAvailable:function(){return Ge.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),_n=Ze;Ze.prototype.simpleListen=function(t,e){this.sendRequest(\"q\",{p:t},e)},Ze.prototype.echo=function(t,e){this.sendRequest(\"echo\",{d:t},e)};var yn=$e,vn=j,gn=Object.freeze({__proto__:null,DataConnection:_n,RealTimeConnection:yn,hijackHash:function(t){var e=Ze.prototype.put;return Ze.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Ze.prototype.put=e}},ConnectionTarget:vn,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){cn.getInstance().forceRestClient(t)}}),mn=pn.ServerValue;function Cn(e){!function(t){Ye=t}(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new u.Component(\"database\",(function(t,e){var n=t.getProvider(\"app\").getImmediate(),r=t.getProvider(\"auth-internal\");return cn.getInstance().databaseFromApp(n,r,e)}),\"PUBLIC\").setServiceProps({Reference:sn,Query:Jt,Database:pn,DataSnapshot:Yt,enableLogging:w,INTERNAL:fn,ServerValue:mn,TEST_ACCESS:gn}).setMultipleInstances(!0));e.registerVersion(\"@firebase/database\",\"0.6.6\"),h.isNodeSdk()&&(t.exports=n)}Cn(s),e.DataSnapshot=Yt,e.Database=pn,e.OnDisconnect=ft,e.Query=Jt,e.Reference=sn,e.ServerValue=mn,e.enableLogging=w,e.registerDatabase=Cn}).call(this,n(\"8oxB\"))}}]);","extractedComments":[]}