{"version":3,"sources":["webpack:///./src/pages/projects.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/es6.string.repeat.js","webpack:///./node_modules/core-js/modules/_string-repeat.js"],"names":["__webpack_exports__","_ref","projects","data","allTseProjects","edges","map","value","description","text","length","substring","nbsp","repeat","condense","node","status","ongoing","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","class","key","name","className","gatsby_image__WEBPACK_IMPORTED_MODULE_3___default","fluid","local_image","childImageSharp","_components_seo_js__WEBPACK_IMPORTED_MODULE_4__","title","_components_navbar_js__WEBPACK_IMPORTED_MODULE_5__","elements","num_columns","rows","i","push","slice","gridify","_components_footer_js__WEBPACK_IMPORTED_MODULE_6__","query","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","configurable","get","this","match","e","$export","P","toInteger","defined","module","exports","count","str","String","res","n","Infinity","RangeError"],"mappings":"kOAyCeA,EAAA,iBAAAC,GAAY,IAGrBC,EAHqBD,EAAVE,KAGKC,eAAeC,MAAMC,IAAI,SAACC,GAC5C,IAAIC,EAlCR,SAAkBC,EAAMC,GACtB,GAAID,EAAKC,OAASA,EAAS,EAEzB,OAAOD,EAAKE,UAAU,EAAGD,GAAU,MAEhC,GAAID,EAAKC,OAASA,EAAQ,CAI7B,IAAIE,EAAO,IAAOC,OAAO,GAEzB,OAAOJ,GAAO,IAAIG,GAAOC,QAAQH,EAASD,EAAKC,QAAUE,EAAKF,OAD7C,KAIjB,OAAOD,EAoBWK,CAASP,EAAMQ,KAAKP,YAAa,KAC/CQ,EAAST,EAAMQ,KAAKE,QACtBC,EAAAC,EAAAC,cAAA,QAAMC,MAAM,oCAAZ,WACAH,EAAAC,EAAAC,cAAA,QAAMC,MAAM,oCAAZ,aACF,OACEH,EAAAC,EAAAC,cAAA,OAAKE,IAAG,GAAKf,EAAMQ,KAAKQ,MACtBL,EAAAC,EAAAC,cAAA,OAAKI,UAAU,gEACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,gBACXN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,qBACXN,EAAAC,EAAAC,cAACK,EAAAN,EAAD,CAAKO,MAAOnB,EAAMQ,KAAKY,YAAYC,gBAAgBF,MAAOF,UAAU,sBACpEN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,2CAA2CjB,EAAMQ,KAAKQ,MACrEL,EAAAC,EAAAC,cAAA,OAAKI,UAAU,yBAAyBR,GACxCE,EAAAC,EAAAC,cAAA,SAAIZ,SAOpB,OAAQU,EAAAC,EAAAC,cAAA,WACNF,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAKC,MAAM,aACXZ,EAAAC,EAAAC,cAACW,EAAA,EAAD,MACAb,EAAAC,EAAAC,cAAA,OAAKI,UAAU,mEACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,2BAAf,2BACAN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,8BAAf,qDAEFN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,0CACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,gBA3CrB,SAAiBQ,EAAUC,GAEzB,IADA,IAAIC,EAAO,GACFC,EAAI,EAAGA,EAAIH,EAAStB,OAAQyB,GAAKF,EACxCC,EAAKE,KACHlB,EAAAC,EAAAC,cAAA,OAAKI,UAAU,oBACZQ,EAASK,MAAMF,EAAGA,EAAIF,KAI7B,OAAOC,EAmCAI,CAAQpC,EAAU,KAGvBgB,EAAAC,EAAAC,cAACmB,EAAA,EAAD,QAIG,IAAMC,EAAK,kCChFlB,IAAAC,EAASC,EAAQ,IAAcC,EAC/BC,EAAAC,SAAAC,UACAC,EAAA,wBACA,SAGAH,GAAkBF,EAAQ,KAAgBD,EAAAG,EAH1C,OAG0C,CAC1CI,cAAA,EACAC,IAAA,WACA,IACA,UAAAC,MAAAC,MAAAJ,GAAA,GACK,MAAAK,GACL,kCCZA,IAAAC,EAAcX,EAAQ,IAEtBW,IAAAC,EAAA,UAEAzC,OAAU6B,EAAQ,yCCHlB,IAAAa,EAAgBb,EAAQ,IACxBc,EAAcd,EAAQ,IAEtBe,EAAAC,QAAA,SAAAC,GACA,IAAAC,EAAAC,OAAAL,EAAAN,OACAY,EAAA,GACAC,EAAAR,EAAAI,GACA,GAAAI,EAAA,GAAAA,GAAAC,IAAA,MAAAC,WAAA,2BACA,KAAQF,EAAA,GAAMA,KAAA,KAAAH,MAAA,EAAAG,IAAAD,GAAAF,GACd,OAAAE","file":"component---src-pages-projects-js-0038b25298c21156c7cc.js","sourcesContent":["import React from 'react'\nimport { graphql } from 'gatsby'\nimport Img from 'gatsby-image'\n\nimport SEO from '../components/seo.js'\nimport Navbar from '../components/navbar.js'\nimport Footer from '../components/footer.js'\n\nimport '../../node_modules/siimple/dist/siimple.min.css'\nimport '../styles/site.css'\n\nfunction condense(text, length) {\n  if (text.length > length - 3) {\n    // If the string is too long, trim it and add ellipses at the end\n    return text.substring(0, length) + '...'; \n  }\n  else if (text.length < length) {\n    // HACKY: If the length of the text is too short, we pad it with invisible non-breaking spaces\n    // These spaces ensure that the card is padded vertically to the correct size\n    // Chances are descriptions are long enough but this is a fallback measure to keep card heights identical \n    let nbsp = \"\\xa0\".repeat(4);\n    let nbsp_scale = 1.7;\n    return text + ` ${nbsp}`.repeat((length - text.length) / nbsp.length * nbsp_scale);\n  }\n  else {\n    return text;\n  }\n}\n\nfunction gridify(elements, num_columns) {\n  let rows = [];\n  for (let i = 0; i < elements.length; i += num_columns) {\n    rows.push(\n      <div className=\"siimple-grid-row\">\n        {elements.slice(i, i + num_columns)}\n      </div>\n    );\n  }\n  return rows;\n}\n\nexport default ({data}) => {\n  // Project information is stored in data.allTseProjects\n  // This is fetched using a GraphQL query that maps to the tritonse-source-firestore plugin\n  let projects = data.allTseProjects.edges.map((value) => {\n    let description = condense(value.node.description, 500);\n    let status = value.node.ongoing ? \n      <span class=\"siimple-tag siimple-tag--primary\">Ongoing</span> : \n      <span class=\"siimple-tag siimple-tag--success\">Completed</span>;\n    return (\n      <div key={`${value.node.name}`}>\n        <div className=\"siimple-grid-col siimple-grid-col--6 siimple-grid-col--sm-12\">\n          <div className=\"siimple-card\">\n              <div className=\"siimple-card-body\">\n                  <Img fluid={value.node.local_image.childImageSharp.fluid} className=\"tse-project-image\"></Img>\n                  <div className=\"siimple-card-title tse-separation-small\">{value.node.name}</div>\n                  <div className=\"siimple-card-subtitle\">{status}</div>\n                  <p>{description}</p>\n              </div>\n          </div>\n        </div>\n      </div>\n    )}\n  );\n  return (<div>\n    <SEO title=\"Projects\"/>\n    <Navbar></Navbar> \n    <div className=\"siimple-jumbotron tse-jumbotron-normal siimple-jumbotron--large\">\n      <div className=\"siimple-jumbotron-title\">Ongoing & Past Projects</div>\n      <div className=\"siimple-jumbotron-subtitle\">Take a look at some of our work with non-profits</div>\n    </div>\n    <div className=\"siimple-content siimple-content--large\">\n      <div className=\"siimple-grid\">\n        {gridify(projects, 2)}\n      </div>\n    </div>\n    <Footer></Footer> \n  </div>)\n}\n\nexport const query = graphql`\n  query {\n    allTseProjects {\n      edges {\n        node {\n          name\n          description\n          ongoing\n          image\n          local_image {\n            ...FluidImage\n          }\n        }\n      }\n    }\n  }\n`\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n"],"sourceRoot":""}